import{a as mt}from"./chunk-E7P3D5E6.js";import{a as ct,b as ft,c as _t,d as gt,e as ut}from"./chunk-PVASZ6PZ.js";import{a as vt}from"./chunk-NEVN5C7P.js";import{a as pt}from"./chunk-GMLYQCDB.js";import"./chunk-HXS4ZZZM.js";import{a as q}from"./chunk-ELFW3MCS.js";import{a as be}from"./chunk-AGXGLGFY.js";import{a as de}from"./chunk-ZMEXDH5L.js";import{a as Ze,b as et,c as tt,d as it}from"./chunk-TKIWTXAB.js";import{b as ee,c as te}from"./chunk-BUFGAGPR.js";import{f as nt,g as rt,n as at,o as ot,p as lt,q as dt}from"./chunk-KKB3U7AD.js";import{a as $,b as Q,c as K,e as H,f as J,g as X,i as Y,j as Se,l as xe,o as Z,q as oe,r as le,u as x,v as st}from"./chunk-BBDCSVIU.js";import{a as B}from"./chunk-D2HZNMZZ.js";import{Aa as ae,Ba as ue,Ea as He,Fa as ve,Ga as he,Ha as Ce,Ia as Ie,Ja as Je,Ka as Xe,La as Pe,Ma as Ye,Na as Oe,O as ne,Oa as D,T as We,U as ze,V as Ue,qa as Ge,ra as qe,sa as $e,ta as Qe,va as re,xa as z}from"./chunk-GPXXUB3O.js";import{$b as L,Ab as fe,Bc as je,Da as I,Ha as c,Hb as ie,Hc as N,Jc as Ke,Kc as k,Lc as j,Ma as O,O as U,Qa as a,Qb as _e,R as w,Ra as o,Rb as ge,Sa as u,Sb as G,Ta as Ae,Ua as Ve,Va as S,W as v,X as h,Ya as C,Zb as Be,_a as _,bb as Le,cb as Ne,eb as F,fb as T,gb as A,kb as ce,lb as l,ma as Te,mb as m,na as pe,nb as g,oa as t,pa as P,qb as y,rb as E,sb as R,ub as V,wb as W,yb as d,zb as s,zc as ke}from"./chunk-VFCAWHKN.js";import{f as me}from"./chunk-XTLRYQGA.js";function bt(r,f){r&1&&(l(0),d(1,"translate")),r&2&&g(" ",s(1,1,"PROVIDERS_PROFILE.Common Information")," ")}function yt(r,f){r&1&&(l(0),d(1,"translate")),r&2&&g(" ",s(1,1,"PROVIDERS_PROFILE.Strategy")," ")}function Et(r,f){r&1&&(l(0),d(1,"translate")),r&2&&g(" ",s(1,1,"PROVIDERS_PROFILE.Personal details of account")," ")}function Rt(r,f){r&1&&(l(0),d(1,"translate")),r&2&&g(" ",s(1,1,"PROVIDERS_PROFILE.Provider's common settings")," ")}function Dt(r,f){r&1&&(l(0),d(1,"translate")),r&2&&g(" ",s(1,1,"PROVIDERS_PROFILE.Provider's settings of publishing deals")," ")}function Mt(r,f){r&1&&(l(0),d(1,"translate")),r&2&&g(" ",s(1,1,"PROVIDERS_PROFILE.Description of trading strategy by its owner")," ")}function wt(r,f){r&1&&(a(0,"p",12),l(1),d(2,"translate"),o()),r&2&&(t(),g(" ",s(2,1,"PROVIDERS_PROFILE.Provider's name to be displayed for followers"),""))}function Ft(r,f){r&1&&(a(0,"mat-error",12),l(1),d(2,"translate"),o()),r&2&&(t(),m(s(2,1,"login.FieldRequired")))}function Tt(r,f){r&1&&(a(0,"mat-error",12),l(1),d(2,"translate"),o()),r&2&&(t(),m(s(2,1,"COMMON.Warn6CharMsg")))}function At(r,f){if(r&1&&(a(0,"mat-form-field",7)(1,"mat-label"),l(2),d(3,"translate"),o(),u(4,"input",8),o(),I(5,wt,3,3,"p",9)(6,Ft,3,3,"mat-error",9)(7,Tt,3,3,"mat-error",9),a(8,"mat-form-field",7)(9,"mat-label"),l(10),d(11,"translate"),o(),a(12,"mat-select",10)(13,"mat-option",11),l(14),d(15,"translate"),o(),a(16,"mat-option",11),l(17),d(18,"translate"),o()()(),a(19,"p",12),l(20),d(21,"translate"),o()),r&2){let e=_();t(2),g("",s(3,10,"OFFERS.Nickname")," *"),t(3),c("ngIf",!e.showError||!(e.providerCommonInfoForm.controls.nickname.errors!=null&&e.providerCommonInfoForm.controls.nickname.errors.required)&&!(e.providerCommonInfoForm.controls.nickname.errors!=null&&e.providerCommonInfoForm.controls.nickname.errors.minlength)),t(),c("ngIf",e.showError&&(e.providerCommonInfoForm.controls.nickname.errors==null?null:e.providerCommonInfoForm.controls.nickname.errors.required)),t(),c("ngIf",e.showError&&(e.providerCommonInfoForm.controls.nickname.errors==null?null:e.providerCommonInfoForm.controls.nickname.errors.minlength)),t(3),g("",s(11,12,"PROVIDERS_PROFILE.Show account name")," *"),t(3),c("value",!0),t(),m(s(15,14,"COMMON.Enabled")),t(2),c("value",!1),t(),m(s(18,16,"COMMON.Disabled")),t(3),m(s(21,18,"PROVIDERS_PROFILE.Show account name in the provider profile in the ratings"))}}function Vt(r,f){r&1&&(a(0,"mat-form-field",7)(1,"mat-label"),l(2),d(3,"translate"),o(),a(4,"mat-select",13)(5,"mat-option",11),l(6),d(7,"translate"),o(),a(8,"mat-option",11),l(9),d(10,"translate"),o()()(),a(11,"p",12),l(12),d(13,"translate"),o(),a(14,"mat-form-field",7)(15,"mat-label"),l(16),d(17,"translate"),o(),a(18,"mat-select",14)(19,"mat-option",11),l(20),d(21,"translate"),o(),a(22,"mat-option",11),l(23),d(24,"translate"),o()()(),a(25,"p",12),l(26),d(27,"translate"),o()),r&2&&(t(2),g("",s(3,12,"PROVIDERS_PROFILE.Hide stops")," *"),t(3),c("value",!0),t(),m(s(7,14,"PROVIDERS_PROFILE.Hide")),t(2),c("value",!1),t(),m(s(10,16,"PROVIDERS_PROFILE.Share")),t(3),m(s(13,18,"PROVIDERS_PROFILE.Allow copying stop-levels of provider's trades into follower's trades")),t(4),g("",s(17,20,"PROVIDERS_PROFILE.Strategy Mode")," *"),t(3),c("value","OutOnly"),t(),m(s(21,22,"PROVIDERS_PROFILE.Out only")),t(2),c("value","All"),t(),m(s(24,24,"COMMON.All")),t(3),m(s(27,26,"PROVIDERS_PROFILE.Restriction of publishing deals depending on entering the market")))}function Lt(r,f){if(r&1&&(a(0,"mat-form-field",7)(1,"mat-label"),l(2),d(3,"translate"),o(),u(4,"input",15),o(),a(5,"p",12),l(6,"Provider's brief description visible publicly"),o(),a(7,"mat-accordion")(8,"mat-expansion-panel",16)(9,"mat-expansion-panel-header")(10,"mat-panel-title"),l(11),d(12,"translate"),o()(),a(13,"p"),l(14),o()()(),a(15,"mat-form-field",7)(16,"mat-label"),l(17),d(18,"translate"),o(),u(19,"textarea",17),o(),a(20,"p",12),l(21),d(22,"translate"),o(),a(23,"mat-accordion")(24,"mat-expansion-panel",16)(25,"mat-expansion-panel-header")(26,"mat-panel-title"),l(27),d(28,"translate"),o()(),a(29,"p"),l(30),o()()()),r&2){let e=_();t(2),m(s(3,7,"PROVIDERS_PROFILE.Summary")),t(9),g(" ",s(12,9,"PROVIDERS_PROFILE.Summary preview")," "),t(3),m(e.providerCommonInfoForm.controls.summary.value),t(3),m(s(18,11,"PROVIDERS_PROFILE.Notes")),t(4),m(s(22,13,"PROVIDERS_PROFILE.Provider's description (verbose) visible publicly")),t(6),g(" ",s(28,15,"PROVIDERS_PROFILE.Notes preview")," "),t(3),m(e.providerCommonInfoForm.controls.notes.value)}}var Pt=(()=>{class r{data;dialogRef;fb;_webService;providerCommonInfoForm;providerData;modelType="";showError=!1;showLoader=!1;errorComponent;IConstant=new N;constructor(e,i,n,p){this.data=e,this.dialogRef=i,this.fb=n,this._webService=p,this.providerData=e.providerData,this.modelType=e.modelType,this.providerCommonInfoForm=this.fb.group({nickname:[""],showAccountName:[!1],summary:[""],notes:[""],hideStops:[!1],mode:[""]}),this.setProviderFormData(),console.log(e)}get getControl(){return this.providerCommonInfoForm.controls}getProviderParamObj(){let e={};return this.modelType=="common_info"?(e.additional=this.providerData.additional,e.nickname=this.getControl.nickname.value,e.additional.showAccountName=this.getControl.showAccountName.value,e.visibility=this.providerData.visibility):this.modelType=="personal_details"?(e.additional=this.providerData.additional,e.additional.summary=this.getControl.summary.value,e.additional.notes=this.getControl.notes.value):this.modelType=="strategy_details"&&(e.strategy=this.providerData.strategy,e.strategy.hideStops=this.getControl.hideStops.value,e.strategy.mode=this.getControl.mode.value),e.providerId=this.providerData.id,e}updateProviderDetails(){if(this.providerCommonInfoForm.invalid){this.showError=!0;return}this.showLoader=!0,this.showError=!1;let e=this.getProviderParamObj();this._webService.updateProviderData(e).subscribe({next:i=>{this.showSuccessPopupMsg("Provider has been updated"),this.dialogRef.close({action:"refresh_provider_data"}),this.showLoader=!1},error:i=>{this.showLoader=!1,this.showErrorWarnMessage(this.IConstant.errorMessageObj[i?.error?.errorCode])}})}setProviderFormData(){this.modelType=="common_info"?(this.providerCommonInfoForm.patchValue({nickname:this.providerData.nickname,showAccountName:this.providerData.additional.showAccountName}),this.getControl.nickname.setValidators([z.required,z.minLength(6)]),this.getControl.nickname.updateValueAndValidity()):this.modelType=="personal_details"?this.providerCommonInfoForm.patchValue({summary:this.providerData.additional.summary,notes:this.providerData.additional.notes}):this.modelType=="strategy_details"&&this.providerCommonInfoForm.patchValue({hideStops:this.providerData.strategy.hideStops,mode:this.providerData.strategy.mode}),this.providerCommonInfoForm.updateValueAndValidity()}showErrorWarnMessage(e){let i=this.errorComponent?.config;i.message=e||i.message,this.errorComponent?.openErrorSnackbar()}showSuccessPopupMsg(e){let i=this.errorComponent?.config;i.customStyle="default-success-style",i.message=e||i.message,this.errorComponent?.openErrorSnackbar()}closeProviderInfoForm(){this.dialogRef.close({})}static \u0275fac=function(i){return new(i||r)(P(Q),P($),P(Pe),P(B))};static \u0275cmp=w({type:r,selectors:[["provider-commongInfo-dialog"]],viewQuery:function(i,n){if(i&1&&F(D,5),i&2){let p;T(p=A())&&(n.errorComponent=p.first)}},standalone:!0,features:[V],decls:21,vars:17,consts:[["mat-dialog-title","",1,"text-center"],[1,"text-center"],[3,"formGroup"],[1,"mat-typography"],[1,"d-flex","justify-center","g-20"],[1,"secondary-btn",3,"click"],["type","submit",1,"primary-btn",3,"click","IcmLoadingOverlay"],[1,"common-field"],["type","text","matInput","","placeholder","Provider 1","formControlName","nickname"],["class","pb-10",4,"ngIf"],["formControlName","showAccountName"],[3,"value"],[1,"pb-10"],["formControlName","hideStops"],["formControlName","mode"],["type","text","matInput","","placeholder","Summary","formControlName","summary"],["hideToggle",""],["matInput","","formControlName","notes","rows","3"]],template:function(i,n){i&1&&(a(0,"h2",0),I(1,bt,2,3)(2,yt,2,3)(3,Et,2,3),o(),a(4,"p",1),I(5,Rt,2,3)(6,Dt,2,3)(7,Mt,2,3),o(),a(8,"form",2)(9,"mat-dialog-content",3),I(10,At,22,20)(11,Vt,28,28)(12,Lt,31,17),o(),a(13,"div",4)(14,"button",5),C("click",function(){return n.closeProviderInfoForm()}),l(15),d(16,"translate"),o(),a(17,"button",6),C("click",function(){return n.updateProviderDetails()}),l(18),d(19,"translate"),o()()(),u(20,"show-error-message")),i&2&&(t(),O(n.modelType=="common_info"?1:-1),t(),O(n.modelType=="strategy_details"?2:-1),t(),O(n.modelType=="personal_details"?3:-1),t(2),O(n.modelType=="common_info"?5:-1),t(),O(n.modelType=="strategy_details"?6:-1),t(),O(n.modelType=="personal_details"?7:-1),t(),c("formGroup",n.providerCommonInfoForm),t(2),O(n.modelType=="common_info"?10:-1),t(),O(n.modelType=="strategy_details"?11:-1),t(),O(n.modelType=="personal_details"?12:-1),t(3),m(s(16,13,"COMMON.Cancel")),t(2),c("IcmLoadingOverlay",n.showLoader),t(),m(s(19,15,"COMMON.Save Changes")))},dependencies:[X,H,J,te,ee,Z,Y,Se,ut,gt,ct,ft,_t,le,oe,ne,L,G,Oe,ve,re,ae,ue,Ce,Ie,D,j,k,q],styles:[".providerProfile-commonInfo{width:600px!important;border-radius:10px!important}  .providerProfile-commonInfo .mat-mdc-dialog-title{margin:unset!important;padding-bottom:10px!important}  .providerProfile-commonInfo .mat-mdc-dialog-surface{border-radius:10px!important;background:#fff!important;padding:20px!important}  .providerProfile-commonInfo .common-field{width:100%!important}  .providerProfile-commonInfo .common-field .mdc-text-field{background-color:#fff;border:1px solid;border-bottom:0px}  .providerProfile-commonInfo .common-field .mdc-text-field textarea{resize:none}  .providerProfile-commonInfo .common-field .mdc-text-field .mat-mdc-form-field-text-suffix{font-size:20px}  .mat-expansion-panel{background-color:#fff!important;border-radius:8px 8px 0 0!important;margin-bottom:15px!important;border:1px solid;box-shadow:none!important}"],changeDetection:0})}return r})();function Nt(r,f){r&1&&(a(0,"p",15),l(1),d(2,"translate"),o()),r&2&&(t(),g(" ",s(2,1,"PROVIDERS_PROFILE.The offer's title"),""))}function Bt(r,f){r&1&&(a(0,"mat-error",15),l(1),d(2,"translate"),o()),r&2&&(t(),g("",s(2,1,"login.FieldRequired")," "))}function kt(r,f){r&1&&(a(0,"mat-error",15),l(1),d(2,"translate"),o()),r&2&&(t(),m(s(2,1,"COMMON.Warn6CharMsg")))}function jt(r,f){r&1&&(u(0,"p",16),d(1,"translate")),r&2&&c("innerHTML",s(1,1,"PROVIDERS_PROFILE.OfferVisibility"),Te)}function Wt(r,f){r&1&&(a(0,"mat-error",15),l(1),d(2,"translate"),o()),r&2&&(t(),g(" ",s(2,1,"login.FieldRequired")," "))}function zt(r,f){r&1&&(a(0,"p",15),l(1),d(2,"translate"),o()),r&2&&(t(),g(" ",s(2,1,"PROVIDERS_PROFILE.OfferPerformanceFeeHint")," "))}function Ut(r,f){r&1&&(a(0,"mat-error",15),l(1),d(2,"translate"),o()),r&2&&(t(),g(" ",s(2,1,"login.FieldRequired")," "))}function Gt(r,f){r&1&&(a(0,"mat-error",15),l(1),d(2,"translate"),o()),r&2&&(t(),g(" ",s(2,1,"PROVIDERS_PROFILE.Should have between 0 to 100 value")," "))}function qt(r,f){if(r&1&&(a(0,"mat-option",8),l(1),o()),r&2){let e=f.$implicit;c("value",e.value),t(),m(e.viewValue)}}function $t(r,f){r&1&&(a(0,"p",15),l(1),d(2,"translate"),o()),r&2&&(t(),g(" ",s(2,1,"PROVIDERS_PROFILE.The periodicity of performance fee payments by followers")," "))}function Qt(r,f){r&1&&(a(0,"mat-error",15),l(1),d(2,"translate"),o()),r&2&&(t(),g(" ",s(2,1,"login.FieldRequired")," "))}function Kt(r,f){if(r&1&&(a(0,"mat-form-field",4)(1,"mat-label"),l(2),d(3,"translate"),o(),a(4,"mat-select",17),I(5,qt,2,2,"mat-option",18),o()(),I(6,$t,3,3,"p",6)(7,Qt,3,3,"mat-error",6)),r&2){let e=_();t(2),m(s(3,4,"PROVIDERS_PROFILE.Interval")),t(3),c("ngForOf",e.intervalArr),t(),c("ngIf",!e.showError||!(e.createOfferForm.controls.interval.errors!=null&&e.createOfferForm.controls.interval.errors.required)),t(),c("ngIf",e.showError&&(e.createOfferForm.controls.interval.errors==null?null:e.createOfferForm.controls.interval.errors.required))}}var Ot=(()=>{class r{providerId;dialogRef;fb;_webService;cdr;createOfferForm;showError=!1;showLoader=!1;intervalArr=[];errorComponent;IConstant=new N;constructor(e,i,n,p,b){this.providerId=e,this.dialogRef=i,this.fb=n,this._webService=p,this.cdr=b,this.createOfferForm=this.fb.group({name:["",[z.required,z.minLength(6)]],visibility:["",z.required],fee:["",z.required],interval:[""]}),this.setInterValArr(),this.setCustomValidationForInterval()}setCustomValidationForInterval(){this.createOfferForm.get("fee")?.valueChanges.subscribe(e=>{console.log(e),e>0?(this.createOfferForm.get("interval")?.setValidators([z.required]),this.createOfferForm.get("interval")?.updateValueAndValidity()):(this.createOfferForm.get("interval")?.setValue(""),this.createOfferForm.get("interval")?.clearValidators(),this.createOfferForm.get("interval")?.updateValueAndValidity())})}setInterValArr(){let e=this._webService.userPermissionConfig.provider.performanceFeeIntervalRights;this.intervalArr=Object.keys(e).filter(i=>e[i].length>0).map(i=>{let n=i.replace("allow","").replace("Interval","");return{value:n,viewValue:n}})}get getControl(){return this.createOfferForm.controls}getOfferParamObj(){let e={};return e.providerId=this.providerId,e.name=this.getControl.name.value,e.visibility=this.getControl.visibility.value,e.performance={},this.getControl.fee.value>0?(e.performance.interval=this.getControl.interval.value,e.performance.fee=this.getControl.fee.value):e.performance.fee=this.getControl.fee.value,e}createOfferForProvider(){if(this.createOfferForm.invalid){this.showError=!0;return}this.showLoader=!0,this.showError=!1;let e=this.getOfferParamObj();this._webService.createOffersDetails(e).subscribe({next:i=>{this.showSuccessPopupMsg("Offer has been added"),this.dialogRef.close({action:"redirect_to_offer_page",offerId:i.id}),this.showLoader=!1},error:i=>{this.showLoader=!1,this.showErrorWarnMessage(this.IConstant.errorMessageObj[i?.error?.errorCode]),this.cdr.detectChanges()}})}showErrorWarnMessage(e){let i=this.errorComponent?.config;i.message=e||i.message,this.errorComponent?.openErrorSnackbar()}showSuccessPopupMsg(e){let i=this.errorComponent?.config;i.customStyle="default-success-style",i.message=e||i.message,this.errorComponent?.openErrorSnackbar()}closeProviderInfoForm(){this.dialogRef.close({})}static \u0275fac=function(i){return new(i||r)(P(Q),P($),P(Pe),P(B),P(ie))};static \u0275cmp=w({type:r,selectors:[["create-offer-dialog"]],viewQuery:function(i,n){if(i&1&&F(D,5),i&2){let p;T(p=A())&&(n.errorComponent=p.first)}},standalone:!0,features:[V],decls:48,vars:40,consts:[["mat-dialog-title","",1,"text-center"],[1,"text-center"],[3,"formGroup"],[1,"mat-typography"],[1,"common-field"],["type","text","matInput","","placeholder","Offer 1","formControlName","name"],["class","pb-10",4,"ngIf"],["formControlName","visibility"],[3,"value"],["class","pb-10",3,"innerHTML",4,"ngIf"],["type","number","min","0","max","100","matInput","","placeholder","1","formControlName","fee"],["matTextSuffix",""],[1,"d-flex","justify-center","g-20"],[1,"secondary-btn",3,"click"],["type","submit",1,"primary-btn",3,"click","IcmLoadingOverlay"],[1,"pb-10"],[1,"pb-10",3,"innerHTML"],["formControlName","interval"],[3,"value",4,"ngFor","ngForOf"]],template:function(i,n){i&1&&(a(0,"h2",0),l(1),d(2,"translate"),o(),a(3,"p",1),l(4),d(5,"translate"),o(),a(6,"form",2)(7,"mat-dialog-content",3)(8,"mat-form-field",4)(9,"mat-label"),l(10),d(11,"translate"),o(),u(12,"input",5),o(),I(13,Nt,3,3,"p",6)(14,Bt,3,3,"mat-error",6)(15,kt,3,3,"mat-error",6),a(16,"mat-form-field",4)(17,"mat-label"),l(18),d(19,"translate"),o(),a(20,"mat-select",7)(21,"mat-option",8),l(22),d(23,"translate"),o(),a(24,"mat-option",8),l(25),d(26,"translate"),o()()(),I(27,jt,2,3,"p",9)(28,Wt,3,3,"mat-error",6),a(29,"mat-form-field",4)(30,"mat-label"),l(31),d(32,"translate"),o(),u(33,"input",10),a(34,"span",11),l(35,"%"),o()(),I(36,zt,3,3,"p",6)(37,Ut,3,3,"mat-error",6)(38,Gt,3,3,"mat-error",6)(39,Kt,8,6),o(),a(40,"div",12)(41,"button",13),C("click",function(){return n.closeProviderInfoForm()}),l(42),d(43,"translate"),o(),a(44,"button",14),C("click",function(){return n.createOfferForProvider()}),l(45),d(46,"translate"),o()()(),u(47,"show-error-message")),i&2&&(t(),g(" ",s(2,22,"PROVIDERS_PROFILE.New Offer"),`
`),t(3),g(" ",s(5,24,"PROVIDERS_PROFILE.Create a new offer"),`
`),t(2),c("formGroup",n.createOfferForm),t(4),m(s(11,26,"PROVIDERS_PROFILE.Title")),t(3),c("ngIf",!n.showError||!(n.createOfferForm.controls.name.errors!=null&&n.createOfferForm.controls.name.errors.required)&&!(n.createOfferForm.controls.name.errors!=null&&n.createOfferForm.controls.name.errors.minlength)),t(),c("ngIf",n.showError&&(n.createOfferForm.controls.name.errors==null?null:n.createOfferForm.controls.name.errors.required)),t(),c("ngIf",n.showError&&(n.createOfferForm.controls.name.errors==null?null:n.createOfferForm.controls.name.errors.minlength)),t(3),m(s(19,28,"PROVIDERS_PROFILE.Visibility")),t(3),c("value","Public"),t(),m(s(23,30,"PROVIDERS_PROFILE.Public")),t(2),c("value","Private"),t(),m(s(26,32,"PROVIDERS_PROFILE.Private")),t(2),c("ngIf",!n.showError||!(n.createOfferForm.controls.visibility.errors!=null&&n.createOfferForm.controls.visibility.errors.required)),t(),c("ngIf",n.showError&&(n.createOfferForm.controls.visibility.errors==null?null:n.createOfferForm.controls.visibility.errors.required)),t(3),m(s(32,34,"OFFERS.Performance fee")),t(5),c("ngIf",!n.showError||!(n.createOfferForm.controls.fee.errors!=null&&n.createOfferForm.controls.fee.errors.required)&&!(n.createOfferForm.controls.fee.errors!=null&&n.createOfferForm.controls.fee.errors.min||n.createOfferForm.controls.fee.errors!=null&&n.createOfferForm.controls.fee.errors.max)),t(),c("ngIf",n.showError&&(n.createOfferForm.controls.fee.errors==null?null:n.createOfferForm.controls.fee.errors.required)),t(),c("ngIf",n.showError&&((n.createOfferForm.controls.fee.errors==null?null:n.createOfferForm.controls.fee.errors.min)||(n.createOfferForm.controls.fee.errors==null?null:n.createOfferForm.controls.fee.errors.max))),t(),O(n.createOfferForm.controls.fee.value>0?39:-1),t(3),m(s(43,36,"COMMON.Cancel")),t(2),c("IcmLoadingOverlay",n.showLoader),t(),m(s(46,38,"COMMON.Create")))},dependencies:[X,H,J,te,ee,Z,Y,Se,xe,le,oe,ne,L,ge,G,Oe,ve,re,he,ae,ue,Xe,Je,Ce,Ie,D,j,k,q],styles:[".createinfo-dialog{width:600px!important;border-radius:10px!important}  .createinfo-dialog .mat-mdc-dialog-title{margin:unset!important;padding-bottom:10px!important}  .createinfo-dialog .mat-mdc-dialog-surface{border-radius:10px!important;background:#fff!important;padding:20px!important}  .createinfo-dialog .common-field{width:100%!important}  .createinfo-dialog .common-field .mdc-text-field{background-color:#fff;border:1px solid;border-bottom:0px}  .createinfo-dialog .common-field .mdc-text-field textarea{resize:none}  .createinfo-dialog .common-field .mdc-text-field .mat-mdc-form-field-text-suffix{font-size:20px}"],changeDetection:0})}return r})();function Ht(r,f){r&1&&(l(0),d(1,"translate")),r&2&&g(" ",s(1,1,"PROVIDERS_PROFILE.Add Shared Link")," ")}function Jt(r,f){r&1&&(l(0),d(1,"translate")),r&2&&g(" ",s(1,1,"PROVIDERS_PROFILE.Delete shared link")," ")}function Xt(r,f){r&1&&(l(0),d(1,"translate")),r&2&&g(" ",s(1,1,"PROVIDERS_PROFILE.Create Shared Link Description")," ")}function Yt(r,f){r&1&&(l(0),d(1,"translate")),r&2&&g(" ",s(1,1,"PROVIDERS_PROFILE.Delete the existing shared link")," ")}function Zt(r,f){r&1&&(l(0),d(1,"translate")),r&2&&g(" ",s(1,1,"PROVIDERS_PROFILE.Do you really want to create a new shared link?")," ")}function ei(r,f){r&1&&(l(0),d(1,"translate")),r&2&&g(" ",s(1,1,"PROVIDERS_PROFILE.Delete Shared Link Main Description")," ")}function ti(r,f){r&1&&(l(0),d(1,"translate")),r&2&&g(" ",s(1,1,"COMMON.Create")," ")}function ii(r,f){r&1&&(l(0),d(1,"translate")),r&2&&g(" ",s(1,1,"PROVIDERS_PROFILE.Delete")," ")}var St=(()=>{class r{providerData;dialogRef;_webService;cdr;showLoader=!1;errorComponent;IConstant=new N;isCreateSharedLink;constructor(e,i,n,p){this.providerData=e,this.dialogRef=i,this._webService=n,this.cdr=p,this.isCreateSharedLink=!this.providerData.sharedProfile.sharedKey}createOrDeleteSharedLink(){this.showLoader=!0;let e={providerId:this.providerData.id},i="";this.isCreateSharedLink?i=this._webService.createSharedLink(e):i=this._webService.deleteSharedLink(e),i.subscribe({next:n=>{this.showSuccessPopupMsg("Provider has been updated"),this.dialogRef.close({action:"refresh_provider_data"}),this.showLoader=!1},error:n=>{this.showLoader=!1,this.showErrorWarnMessage(this.IConstant.errorMessageObj[n?.error?.errorCode]),this.cdr.detectChanges()}})}showErrorWarnMessage(e){let i=this.errorComponent?.config;i.message=e||i.message,this.errorComponent?.openErrorSnackbar()}showSuccessPopupMsg(e){let i=this.errorComponent?.config;i.customStyle="default-success-style",i.message=e||i.message,this.errorComponent?.openErrorSnackbar()}closeProviderInfoForm(){this.dialogRef.close({})}static \u0275fac=function(i){return new(i||r)(P(Q),P($),P(B),P(ie))};static \u0275cmp=w({type:r,selectors:[["shared-link-dialog"]],viewQuery:function(i,n){if(i&1&&F(D,5),i&2){let p;T(p=A())&&(n.errorComponent=p.first)}},standalone:!0,features:[V],decls:18,vars:8,consts:[["mat-dialog-title","",1,"text-center"],[1,"text-center"],[1,"mat-typography"],[1,"warn-title"],[1,"d-flex","justify-center","g-20"],[1,"secondary-btn",3,"click"],["type","submit",1,"primary-btn",3,"click","IcmLoadingOverlay"]],template:function(i,n){i&1&&(a(0,"h2",0),I(1,Ht,2,3)(2,Jt,2,3),o(),a(3,"p",1),I(4,Xt,2,3)(5,Yt,2,3),o(),a(6,"mat-dialog-content",2)(7,"p",3),I(8,Zt,2,3)(9,ei,2,3),o()(),a(10,"div",4)(11,"button",5),C("click",function(){return n.closeProviderInfoForm()}),l(12),d(13,"translate"),o(),a(14,"button",6),C("click",function(){return n.createOrDeleteSharedLink()}),I(15,ti,2,3)(16,ii,2,3),o()(),u(17,"show-error-message")),i&2&&(t(),O(n.isCreateSharedLink?1:2),t(3),O(n.isCreateSharedLink?4:5),t(4),O(n.isCreateSharedLink?8:9),t(4),m(s(13,6,"COMMON.Cancel")),t(2),c("IcmLoadingOverlay",n.showLoader),t(),O(n.isCreateSharedLink?15:16))},dependencies:[X,H,J,L,D,j,k,q],styles:[".shared-link-dialog{width:600px!important;border-radius:10px!important}  .shared-link-dialog .mat-mdc-dialog-title{margin:unset!important;padding-bottom:10px!important}  .shared-link-dialog .mat-mdc-dialog-surface{border-radius:10px!important;background:#fff!important;padding:20px!important}  .shared-link-dialog .common-field{width:100%!important}  .shared-link-dialog .common-field .mdc-text-field{background-color:#fff;border:1px solid;border-bottom:0px}  .shared-link-dialog .common-field .mdc-text-field textarea{resize:none}  .shared-link-dialog .common-field .mdc-text-field .mat-mdc-form-field-text-suffix{font-size:20px}  .shared-link-dialog .warn-title{font-size:15px;padding:15px 10px;background:var(--primaryWhite);border-radius:initial;border-width:2px 5px;border-style:dotted solid;border-color:var(--primaryBlack)}"],changeDetection:0})}return r})();var ni=r=>({disabled:r});function ri(r,f){r&1&&(a(0,"div",14),u(1,"img",15),o())}function ai(r,f){if(r&1&&(a(0,"div",14),u(1,"img",16),o()),r&2){let e=_();t(),c("src",e.tempPathUrl,pe)}}function oi(r,f){if(r&1){let e=S();a(0,"div",17),u(1,"img",16),a(2,"button",18),C("click",function(){v(e);let n=_();return h(n.deleteAvatar())}),l(3),d(4,"translate"),o()()}if(r&2){let e=_();t(),c("src",e.avatarPath,pe),t(),c("IcmLoadingOverlay",e.showLoader),t(),m(s(4,3,"PROVIDERS_PROFILE.Delete"))}}var xt=(()=>{class r{data;dialogRef;_webService;cdr;showLoader=!1;providerData={};fileObject;avatarPath="";tempPathUrl;errorComponent;IConstant=new N;constructor(e,i,n,p){this.data=e,this.dialogRef=i,this._webService=n,this.cdr=p,this.providerData=this.data.providerData,this.setAvatarData()}setAvatarData(){if(this.providerData.public.avatarPath){let e=`${this._webService.getFileServerUrl()}${this.IConstant.providerAvatarPath}${this.providerData.public.avatarPath}`;this.avatarPath=e}else this.avatarPath=""}onFileSelected(e){let i=e.target.files[0];i&&(this.avatarPath="",this.tempPathUrl=URL.createObjectURL(i),this.fileObject=i)}deleteAvatar(){this.showLoader=!0;let e={providerId:this.providerData.id,public:{}};this._webService.updateProviderData(e).subscribe({next:i=>{this.showSuccessPopupMsg("Provider has been updated"),this._webService.emitOnWebDataChange({action:"refresh_provider_image"}),this.dialogRef.close({action:"refresh_provider_data"}),this.showLoader=!1},error:i=>{this.showLoader=!1,this.showErrorWarnMessage(this.IConstant.errorMessageObj[i?.error?.errorCode]),this.cdr.detectChanges()}})}uploadAvatar(){this.showLoader=!0;let e={providerId:this.providerData.id,file:this.fileObject};this._webService.uploadAvatar(e).subscribe({next:i=>{this.showSuccessPopupMsg("Provider has been updated"),this._webService.emitOnWebDataChange({action:"refresh_provider_image"}),this.dialogRef.close({action:"refresh_provider_data"}),this.showLoader=!1},error:i=>{this.showLoader=!1,this.showErrorWarnMessage(this.IConstant.errorMessageObj[i?.error?.errorCode]),this.cdr.detectChanges()}})}showErrorWarnMessage(e){let i=this.errorComponent?.config;i.message=e||i.message,this.errorComponent?.openErrorSnackbar()}showSuccessPopupMsg(e){let i=this.errorComponent?.config;i.customStyle="default-success-style",i.message=e||i.message,this.errorComponent?.openErrorSnackbar()}closeUploadAvatarForm(){this.dialogRef.close({})}static \u0275fac=function(i){return new(i||r)(P(Q),P($),P(B),P(ie))};static \u0275cmp=w({type:r,selectors:[["upload-avatar-dialog"]],viewQuery:function(i,n){if(i&1&&F(D,5),i&2){let p;T(p=A())&&(n.errorComponent=p.first)}},standalone:!0,features:[V],decls:27,vars:22,consts:[["fileInput",""],["mat-dialog-title","",1,"text-center"],[1,"text-center"],[1,"mat-typography"],["class","d-flex justify-center align-center pb-20",4,"ngIf"],["class","d-flex justify-center align-center pb-20 g-20 flex-column",4,"ngIf"],[1,"common-field",3,"click"],["type","text","readonly","","matInput","","disabled","true"],["matTextSuffix",""],["src","../../../../../assets/icons/upload-icon.png","width","30","height","30"],[1,"d-flex","justify-center","g-20"],[1,"secondary-btn",3,"click"],["type","submit",1,"primary-btn",3,"click","ngClass","IcmLoadingOverlay"],["hidden","","type","file","accept","image/*",3,"change"],[1,"d-flex","justify-center","align-center","pb-20"],["src","../../../../../assets/icons/default-big-user-profile.png","width","250"],[2,"max-width","100%",3,"src"],[1,"d-flex","justify-center","align-center","pb-20","g-20","flex-column"],[1,"secondary-btn","warn",3,"click","IcmLoadingOverlay"]],template:function(i,n){if(i&1){let p=S();a(0,"h2",1),l(1),d(2,"translate"),o(),a(3,"p",2),l(4),d(5,"translate"),o(),a(6,"mat-dialog-content",3),I(7,ri,2,0,"div",4)(8,ai,2,1,"div",4)(9,oi,5,5,"div",5),a(10,"mat-form-field",6),C("click",function(){v(p);let M=ce(25);return h(M.click())}),a(11,"mat-label"),l(12),d(13,"translate"),o(),u(14,"input",7),a(15,"span",8),u(16,"img",9),o()()(),a(17,"div",10)(18,"button",11),C("click",function(){return v(p),h(n.closeUploadAvatarForm())}),l(19),d(20,"translate"),o(),a(21,"button",12),C("click",function(){return v(p),h(n.uploadAvatar())}),l(22),d(23,"translate"),o()(),a(24,"input",13,0),C("change",function(M){return v(p),h(n.onFileSelected(M))}),o(),u(26,"show-error-message")}i&2&&(t(),m(s(2,10,"PROVIDERS_PROFILE.Avatar")),t(3),m(s(5,12,"PROVIDERS_PROFILE.Avatar settings")),t(3),c("ngIf",!n.avatarPath&&!n.fileObject),t(),c("ngIf",n.fileObject),t(),c("ngIf",n.avatarPath),t(3),m(n.fileObject?n.fileObject.name:s(13,14,"PROVIDERS_PROFILE.File")),t(7),m(s(20,16,"COMMON.Cancel")),t(2),c("ngClass",W(20,ni,!n.fileObject))("IcmLoadingOverlay",n.showLoader),t(),m(s(23,18,"PROVIDERS_PROFILE.Upload")))},dependencies:[X,H,J,L,_e,G,te,ee,Z,Y,xe,D,j,k,q],styles:[".upload-avatar-dialog{width:700px!important;border-radius:10px!important}  .upload-avatar-dialog .mat-mdc-dialog-title{margin:unset!important;padding-bottom:10px!important}  .upload-avatar-dialog .mat-mdc-dialog-surface{border-radius:10px!important;background:#fff!important;padding:20px!important}  .upload-avatar-dialog .common-field{width:100%!important}  .upload-avatar-dialog .common-field .mdc-text-field{background-color:#fff;border:1px solid;border-bottom:0px}  .upload-avatar-dialog .common-field .mdc-text-field textarea{resize:none}  .upload-avatar-dialog .common-field .mdc-text-field .mat-mdc-form-field-text-suffix{font-size:20px}.secondary-btn.warn[_ngcontent-%COMP%]{background-color:var(--error-message--container-color);color:var(--primaryWhite);border:none}.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}"],changeDetection:0})}return r})();var se=r=>({"btn-disable":r});function li(r,f){r&1&&(l(0),d(1,"translate")),r&2&&g(" ",s(1,1,"PROVIDERS_PROFILE.Delete shared link")," ")}function di(r,f){r&1&&(l(0),d(1,"translate")),r&2&&g(" ",s(1,1,"PROVIDERS_PROFILE.Create shared link")," ")}function si(r,f){if(r&1){let e=S();a(0,"button",32),C("click",function(){v(e);let n=_(2).$implicit,p=_(2);return h(p.clearFilters(n))}),u(1,"img",58),l(2),d(3,"translate"),o()}r&2&&(t(2),g(" ",s(3,1,"COMMON.Clear")," "))}function pi(r,f){if(r&1){let e=S();a(0,"mat-form-field")(1,"mat-label"),l(2),d(3,"translate"),o(),a(4,"input",60),R("ngModelChange",function(n){v(e);let p=_(3).$implicit;return E(p.filters.type.id,n)||(p.filters.type.id=n),h(n)}),o()()}if(r&2){let e=_(3).$implicit;t(2),m(s(3,2,"COMMON.Id")),t(2),y("ngModel",e.filters.type.id)}}function mi(r,f){if(r&1&&(Ae(0),a(1,"mat-option",63),l(2),o(),Ve()),r&2){let e=f.$implicit;t(),c("value",e.offerId),t(),m(e.offerTitle)}}function ci(r,f){if(r&1){let e=S();a(0,"mat-form-field")(1,"mat-label"),l(2),d(3,"translate"),o(),a(4,"mat-select",61),R("ngModelChange",function(n){v(e);let p=_(3).$implicit;return E(p.filters.type.offerId,n)||(p.filters.type.offerId=n),h(n)}),I(5,mi,3,2,"ng-container",62),a(6,"mat-option",63),l(7,"-"),o()()()}if(r&2){let e=_(3).$implicit,i=_(2);t(2),m(s(3,4,"PROVIDERS_PROFILE.Offer")),t(2),y("ngModel",e.filters.type.offerId),t(),c("ngForOf",i.offerGridData),t(),c("value",void 0)}}function fi(r,f){if(r&1){let e=S();a(0,"mat-form-field")(1,"mat-label"),l(2),d(3,"translate"),o(),a(4,"mat-select",61),R("ngModelChange",function(n){v(e);let p=_(3).$implicit;return E(p.filters.type.activationStatus,n)||(p.filters.type.activationStatus=n),h(n)}),a(5,"mat-option",63),l(6),d(7,"translate"),o(),a(8,"mat-option",63),l(9),d(10,"translate"),o(),a(11,"mat-option",63),l(12),d(13,"translate"),o(),a(14,"mat-option",63),l(15,"-"),o()()()}if(r&2){let e=_(3).$implicit;t(2),m(s(3,9,"PROVIDERS_PROFILE.Activation Status")),t(2),y("ngModel",e.filters.type.activationStatus),t(),c("value","needsactivation"),t(),m(s(7,11,"PROVIDERS_PROFILE.Needs Activation")),t(2),c("value","activated"),t(),m(s(10,13,"PROVIDERS_PROFILE.Activated")),t(2),c("value","suspended"),t(),m(s(13,15,"PROVIDERS_PROFILE.Suspended")),t(2),c("value",void 0)}}function _i(r,f){if(r&1){let e=S();a(0,"mat-form-field")(1,"mat-label"),l(2),d(3,"translate"),o(),a(4,"input",60),R("ngModelChange",function(n){v(e);let p=_(3).$implicit;return E(p.filters.type.externalAccount,n)||(p.filters.type.externalAccount=n),h(n)}),o()()}if(r&2){let e=_(3).$implicit;t(2),m(s(3,2,"PROVIDERS_PROFILE.Trading Account")),t(2),y("ngModel",e.filters.type.externalAccount)}}function gi(r,f){if(r&1){let e=S();a(0,"mat-form-field")(1,"mat-label"),l(2),d(3,"translate"),o(),a(4,"input",60),R("ngModelChange",function(n){v(e);let p=_(3).$implicit;return E(p.filters.type.agent,n)||(p.filters.type.agent=n),h(n)}),o()()}if(r&2){let e=_(3).$implicit;t(2),m(s(3,2,"COMMON.Agent")),t(2),y("ngModel",e.filters.type.agent)}}function ui(r,f){if(r&1){let e=S();a(0,"mat-form-field")(1,"mat-label"),l(2),d(3,"translate"),o(),a(4,"mat-select",61),R("ngModelChange",function(n){v(e);let p=_(3).$implicit;return E(p.filters.type.scope,n)||(p.filters.type.scope=n),h(n)}),a(5,"mat-option",63),l(6),d(7,"translate"),o(),a(8,"mat-option",63),l(9),d(10,"translate"),o()()()}if(r&2){let e=_(3).$implicit;t(2),m(s(3,6,"PROVIDERS_PROFILE.Scope")),t(2),y("ngModel",e.filters.type.scope),t(),c("value","Active"),t(),m(s(7,8,"COMMON.Active")),t(2),c("value","All"),t(),m(s(10,10,"COMMON.All"))}}function vi(r,f){if(r&1){let e=S();a(0,"mat-form-field")(1,"mat-label"),l(2),d(3,"translate"),o(),a(4,"input",60),R("ngModelChange",function(n){v(e);let p=_(3).$implicit;return E(p.filters.type.position,n)||(p.filters.type.position=n),h(n)}),o()()}if(r&2){let e=_(3).$implicit;t(2),m(s(3,2,"PROVIDERS_PROFILE.Position")),t(2),y("ngModel",e.filters.type.position)}}function hi(r,f){if(r&1){let e=S();a(0,"mat-form-field")(1,"mat-label"),l(2),d(3,"translate"),o(),a(4,"mat-select",61),R("ngModelChange",function(n){v(e);let p=_(3).$implicit;return E(p.filters.type.posState,n)||(p.filters.type.posState=n),h(n)}),a(5,"mat-option",63),l(6),d(7,"translate"),o(),a(8,"mat-option",63),l(9),d(10,"translate"),o(),a(11,"mat-option",63),l(12,"-"),o()()()}if(r&2){let e=_(3).$implicit;t(2),m(s(3,7,"PROVIDERS_PROFILE.State")),t(2),y("ngModel",e.filters.type.posState),t(),c("value","Tracking"),t(),m(s(7,9,"PROVIDERS_PROFILE.Tracking")),t(2),c("value","Processed"),t(),m(s(10,11,"TRANSACTIONS.Processed")),t(2),c("value",void 0)}}function Ci(r,f){if(r&1){let e=S();a(0,"mat-form-field")(1,"mat-label"),l(2),d(3,"translate"),o(),a(4,"input",64),R("ngModelChange",function(n){v(e);let p=_(3).$implicit;return E(p.filters.type.dealKey,n)||(p.filters.type.dealKey=n),h(n)}),o()()}if(r&2){let e=_(3).$implicit;t(2),m(s(3,2,"PROVIDERS_PROFILE.Deal")),t(2),y("ngModel",e.filters.type.dealKey)}}function Ii(r,f){if(r&1){let e=S();a(0,"mat-form-field")(1,"mat-label"),l(2),d(3,"translate"),o(),a(4,"mat-select",61),R("ngModelChange",function(n){v(e);let p=_(3).$implicit;return E(p.filters.type.dealState,n)||(p.filters.type.dealState=n),h(n)}),a(5,"mat-option",63),l(6),d(7,"translate"),o(),a(8,"mat-option",63),l(9),d(10,"translate"),o(),a(11,"mat-option",63),l(12),d(13,"translate"),o(),a(14,"mat-option",63),l(15),d(16,"translate"),o(),a(17,"mat-option",63),l(18,"-"),o()()()}if(r&2){let e=_(3).$implicit;t(2),m(s(3,11,"PROVIDERS_PROFILE.State")),t(2),y("ngModel",e.filters.type.dealState),t(),c("value","Pending"),t(),m(s(7,13,"PROVIDERS_PROFILE.Pending")),t(2),c("value","Processing"),t(),m(s(10,15,"PROVIDERS_PROFILE.Processing")),t(2),c("value","Processed"),t(),m(s(13,17,"TRANSACTIONS.Processed")),t(2),c("value","Error"),t(),m(s(16,19,"PROVIDERS_PROFILE.Error")),t(2),c("value",void 0)}}function Pi(r,f){if(r&1){let e=S();a(0,"mat-form-field")(1,"mat-label"),l(2),d(3,"translate"),o(),a(4,"mat-select",61),R("ngModelChange",function(n){v(e);let p=_(3).$implicit;return E(p.filters.type.entry,n)||(p.filters.type.entry=n),h(n)}),a(5,"mat-option",63),l(6),d(7,"translate"),o(),a(8,"mat-option",63),l(9),d(10,"translate"),o(),a(11,"mat-option",63),l(12,"-"),o()()()}if(r&2){let e=_(3).$implicit;t(2),m(s(3,7,"PROVIDERS_PROFILE.Entry")),t(2),y("ngModel",e.filters.type.entry),t(),c("value","In"),t(),m(s(7,9,"PROVIDERS_PROFILE.In")),t(2),c("value","Out"),t(),m(s(10,11,"PROVIDERS_PROFILE.Out")),t(2),c("value",void 0)}}function Oi(r,f){if(r&1){let e=S();a(0,"mat-form-field")(1,"mat-label"),l(2),d(3,"translate"),o(),a(4,"input",64),R("ngModelChange",function(n){v(e);let p=_(3).$implicit;return E(p.filters.type.symbol,n)||(p.filters.type.symbol=n),h(n)}),o()()}if(r&2){let e=_(3).$implicit;t(2),m(s(3,2,"PROVIDERS_PROFILE.Symbol")),t(2),y("ngModel",e.filters.type.symbol)}}function Si(r,f){if(r&1){let e=S();a(0,"mat-form-field")(1,"mat-label"),l(2),d(3,"translate"),o(),a(4,"input",60),R("ngModelChange",function(n){v(e);let p=_(3).$implicit;return E(p.filters.type.platformId,n)||(p.filters.type.platformId=n),h(n)}),o()()}if(r&2){let e=_(3).$implicit;t(2),m(s(3,2,"TRANSACTIONS.MT order")),t(2),y("ngModel",e.filters.type.platformId)}}function xi(r,f){if(r&1&&I(0,pi,5,4,"mat-form-field",59)(1,ci,8,6,"mat-form-field",59)(2,fi,16,17,"mat-form-field",59)(3,_i,5,4,"mat-form-field",59)(4,gi,5,4,"mat-form-field",59)(5,ui,11,12,"mat-form-field",59)(6,vi,5,4,"mat-form-field",59)(7,hi,13,13,"mat-form-field",59)(8,Ci,5,4,"mat-form-field",59)(9,Ii,19,21,"mat-form-field",59)(10,Pi,13,13,"mat-form-field",59)(11,Oi,5,4,"mat-form-field",59)(12,Si,5,4,"mat-form-field",59),r&2){let e=_(2).$implicit;c("ngIf",e.filters.type.hasOwnProperty("id")),t(),c("ngIf",e.filters.type.hasOwnProperty("offerId")),t(),c("ngIf",e.filters.type.hasOwnProperty("activationStatus")),t(),c("ngIf",e.filters.type.hasOwnProperty("externalAccount")),t(),c("ngIf",e.filters.type.hasOwnProperty("agent")),t(),c("ngIf",e.filters.type.hasOwnProperty("scope")),t(),c("ngIf",e.filters.type.hasOwnProperty("position")),t(),c("ngIf",e.filters.type.hasOwnProperty("posState")),t(),c("ngIf",e.filters.type.hasOwnProperty("dealKey")),t(),c("ngIf",e.filters.type.hasOwnProperty("dealState")),t(),c("ngIf",e.filters.type.hasOwnProperty("entry")),t(),c("ngIf",e.filters.type.hasOwnProperty("symbol")),t(),c("ngIf",e.filters.type.hasOwnProperty("platformId"))}}function bi(r,f){r&1&&(u(0,"img",65),l(1),d(2,"translate")),r&2&&(t(),g(" ",s(2,1,"PROVIDERS_LIST.Search")," "))}function yi(r,f){r&1&&(u(0,"img",33),l(1),d(2,"translate")),r&2&&(t(),g(" ",s(2,1,"COMMON.Refresh")," "))}function Ei(r,f){if(r&1){let e=S();a(0,"div",53)(1,"div",54)(2,"button",32),C("click",function(){v(e);let n=_().$implicit,p=_(2);return h(p.applyFilters(n))}),u(3,"img",55),l(4),d(5,"translate"),o(),I(6,si,4,3,"button",56),o(),a(7,"div",57),I(8,xi,13,13),a(9,"button",32),C("click",function(){v(e);let n=_().$implicit,p=_(2);return h(p.refreshDataList(n))}),I(10,bi,3,3)(11,yi,3,3),o()()(),u(12,"common-ag-grid",37)}if(r&2){let e=_().$implicit;t(4),g(" ",s(5,7,"COMMON.Filters")," "),t(2),c("ngIf",e.filters.show),t(2),O(e.filters.show?8:-1),t(2),O(10),t(2),c("gridConfig",e.grid.config)("gridData",e.grid.data)("showGridLoader",e.grid.showLoader)}}function Ri(r,f){if(r&1&&(a(0,"mat-tab",51),d(1,"translate"),I(2,Ei,13,9,"ng-template",52),o()),r&2){let e=f.$implicit;Le("label",s(1,1,e.label))}}function Di(r,f){if(r&1){let e=S();a(0,"mat-card-content",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"h5"),l(5),o(),a(6,"p"),l(7),d(8,"translate"),o()(),a(9,"button",8),u(10,"img",9),l(11),d(12,"translate"),o(),a(13,"mat-menu",10,0)(15,"button",11),C("click",function(){v(e);let n=_();return h(n.openUploadAvatarModal())}),u(16,"img",12),l(17),d(18,"translate"),o(),a(19,"button",11),C("click",function(){v(e);let n=_();return h(n.openSharedLinkModal())}),u(20,"img",13),I(21,li,2,3)(22,di,2,3),o(),a(23,"button",11),C("click",function(){v(e);let n=_();return h(n.openProviderArchiveModal())}),u(24,"img",14),l(25),d(26,"translate"),o()()(),u(27,"provider-follower-header-cards",15),a(28,"div",16)(29,"div",17)(30,"div",18)(31,"div",19)(32,"h4"),l(33),d(34,"translate"),o(),a(35,"p"),l(36),d(37,"translate"),o(),a(38,"button",20),C("click",function(){v(e);let n=_();return h(n.openCommonInfoDialog("common_info"))}),l(39),d(40,"translate"),o()(),a(41,"div",21)(42,"mat-card",22)(43,"div",23)(44,"h6"),l(45),d(46,"translate"),o(),a(47,"p"),l(48),o()(),a(49,"div",23)(50,"h6"),l(51),d(52,"translate"),o(),a(53,"p"),l(54),o()()()()(),a(55,"div",18)(56,"div",19)(57,"h4"),l(58),d(59,"translate"),o(),a(60,"p"),l(61),d(62,"translate"),o(),a(63,"button",20),C("click",function(){v(e);let n=_();return h(n.openCommonInfoDialog("personal_details"))}),l(64),d(65,"translate"),o()(),a(66,"div",21)(67,"mat-card",22)(68,"div",23)(69,"h6"),l(70),d(71,"translate"),o(),a(72,"p"),l(73),o()(),a(74,"div",23)(75,"h6"),l(76),d(77,"translate"),o(),a(78,"p"),l(79),o()()()()(),a(80,"div",18)(81,"div",19)(82,"h4"),l(83),d(84,"translate"),o(),a(85,"p"),l(86),d(87,"translate"),o(),a(88,"button",20),C("click",function(){v(e);let n=_();return h(n.openCommonInfoDialog("strategy_details"))}),l(89),d(90,"translate"),o()(),a(91,"div",21)(92,"mat-card",22)(93,"div",23)(94,"h6"),l(95),d(96,"translate"),o(),a(97,"p"),l(98),o()(),a(99,"div",23)(100,"h6"),l(101),d(102,"translate"),o(),a(103,"p"),l(104),o()()()()(),a(105,"div",18)(106,"div",19)(107,"h4"),l(108),d(109,"translate"),o(),a(110,"p"),l(111),d(112,"translate"),o(),a(113,"button",24),l(114),d(115,"translate"),o()(),a(116,"div",21)(117,"mat-card",22)(118,"div",23)(119,"h6"),l(120),d(121,"translate"),o(),a(122,"p"),l(123),o()()()()(),a(124,"div",18)(125,"div",19)(126,"h4"),l(127),d(128,"translate"),o(),a(129,"p"),l(130),d(131,"translate"),o()(),a(132,"div",19)(133,"div",25)(134,"div",26)(135,"mat-form-field")(136,"mat-label"),l(137),d(138,"translate"),o(),a(139,"mat-select",27),R("ngModelChange",function(n){v(e);let p=_();return E(p.selectedOfferState,n)||(p.selectedOfferState=n),h(n)}),C("selectionChange",function(){v(e);let n=_();return h(n.refreshOffersList())}),a(140,"mat-option",28),l(141),d(142,"translate"),o(),a(143,"mat-option",29),l(144),d(145,"translate"),o()()()(),a(146,"div")(147,"h4",30),l(148,"|"),o()(),a(149,"div",31)(150,"button",32),C("click",function(){v(e);let n=_();return h(n.refreshOffersList())}),u(151,"img",33),l(152),d(153,"translate"),o(),a(154,"button",34),C("click",function(){v(e);let n=_();return h(n.openCreateOfferModal())}),u(155,"img",35),l(156),d(157,"translate"),o()()()()(),a(158,"div")(159,"div",36),u(160,"common-ag-grid",37),o()()(),a(161,"div",38)(162,"div",39)(163,"h4"),l(164),d(165,"translate"),o(),a(166,"p"),l(167),d(168,"translate"),o()(),u(169,"hr"),a(170,"div",40)(171,"mat-card",22)(172,"div",41)(173,"div",6)(174,"h6"),l(175),d(176,"translate"),o()(),a(177,"div",42)(178,"div",43)(179,"h6"),l(180),d(181,"translate"),o()(),a(182,"div",44)(183,"h6",45),l(184),o()()(),a(185,"div",42)(186,"div",43)(187,"h6"),l(188),d(189,"translate"),o()(),a(190,"div",44)(191,"h6"),l(192),d(193,"date"),o()()()(),a(194,"div",41)(195,"div",6)(196,"h6"),l(197),d(198,"translate"),o(),a(199,"a",46),C("click",function(){v(e);let n=_();return h(n.openBeTradingAccountPopup())}),u(200,"img",47),o()(),a(201,"div",42)(202,"div",43)(203,"h6"),l(204),d(205,"translate"),o()(),a(206,"div",44)(207,"h6"),l(208),o()()(),a(209,"div",42)(210,"div",43)(211,"h6"),l(212),d(213,"translate"),o()(),a(214,"div",44)(215,"h6"),l(216),o()()(),a(217,"div",42)(218,"div",43)(219,"h6"),l(220),d(221,"translate"),o()(),a(222,"div",44)(223,"h6",45),l(224),o()()(),a(225,"div",42)(226,"div",43)(227,"h6"),l(228),d(229,"translate"),o()(),a(230,"div",44)(231,"h6"),l(232),d(233,"date"),o()()(),a(234,"div",42)(235,"div",43)(236,"h6"),l(237),d(238,"translate"),o()(),a(239,"div",44)(240,"h6"),l(241),d(242,"date"),o()()()()()()()(),a(243,"div",48)(244,"mat-tab-group",49),C("selectedTabChange",function(n){v(e);let p=_();return h(p.onTabChange(n))}),I(245,Ri,3,3,"mat-tab",50),o()()()()}if(r&2){let e=ce(14),i=_();t(5),m(i.providersData==null?null:i.providersData.nickname),t(2),m(s(8,73,"PROVIDERS_PROFILE.Provider's profile and sharing settings")),t(2),c("matMenuTriggerFor",e)("ngClass",W(164,se,i.providersData.state=="Archived")),t(2),g(" ",s(12,75,"COMMON.Actions")," "),t(6),m(s(18,77,"PROVIDERS_PROFILE.Update Avatar")),t(3),Ne("src","../../../../assets/icons/",i.providersData.sharedProfile.sharedKey?"remove-icon":"add-icon",".png",pe),t(),O(i.providersData.sharedProfile.sharedKey?21:22),t(4),g(" ",s(26,79,"COMMON.Archive"),""),t(2),c("getDataById",!0)("id",i.providerId),t(6),m(s(34,81,"PROVIDERS_PROFILE.Common Information")),t(3),m(s(37,83,"PROVIDERS_PROFILE.Provider's common settings")),t(2),c("ngClass",W(166,se,i.providersData.state=="Archived")),t(),g(" ",s(40,85,"COMMON.Edit")," "),t(6),m(s(46,87,"PROVIDERS_PROFILE.Nickname")),t(3),m(i.providersData==null?null:i.providersData.nickname),t(3),m(s(52,89,"PROVIDERS_PROFILE.Show account name")),t(3),m(i.providersData==null||i.providersData.additional==null?null:i.providersData.additional.showAccountName),t(4),m(s(59,91,"PROVIDERS_PROFILE.Personal details of account")),t(3),m(s(62,93,"PROVIDERS_PROFILE.Description of trading strategy by its owner")),t(2),c("ngClass",W(168,se,i.providersData.state=="Archived")),t(),g(" ",s(65,95,"COMMON.Edit")," "),t(6),m(s(71,97,"PROVIDERS_PROFILE.Summary")),t(3),m(!(i.providersData==null||i.providersData.additional==null)&&i.providersData.additional.summary?i.providersData==null||i.providersData.additional==null?null:i.providersData.additional.summary:"No summary"),t(3),m(s(77,99,"PROVIDERS_PROFILE.Notes")),t(3),m(!(i.providersData==null||i.providersData.additional==null)&&i.providersData.additional.notes?i.providersData==null||i.providersData.additional==null?null:i.providersData.additional.notes:"No notes"),t(4),m(s(84,101,"PROVIDERS_PROFILE.Strategy")),t(3),m(s(87,103,"PROVIDERS_PROFILE.Provider's settings of publishing deals")),t(2),c("ngClass",W(170,se,i.providersData.state=="Archived")),t(),g(" ",s(90,105,"COMMON.Edit")," "),t(6),m(s(96,107,"PROVIDERS_PROFILE.Hide stops")),t(3),m(i.providersData==null||i.providersData.strategy==null?null:i.providersData.strategy.hideStops),t(3),m(s(102,109,"PROVIDERS_PROFILE.Strategy Mode")),t(3),m((i.providersData==null||i.providersData.strategy==null?null:i.providersData.strategy.mode)=="OutOnly"?"Out only":"All"),t(4),m(s(109,111,"PROVIDERS_PROFILE.Finance")),t(3),m(s(112,113,"PROVIDERS_PROFILE.Provider's finance settings")),t(2),c("ngClass",W(172,se,i.providersData.state=="Archived")),t(),g(" ",s(115,115,"COMMON.Edit")," "),t(6),m(s(121,117,"PROVIDERS_PROFILE.Fee receiver account")),t(3),m(i.providersData==null?null:i.providersData.externalName),t(4),m(s(128,119,"PROVIDERS_PROFILE.Offers")),t(3),m(s(131,121,"PROVIDERS_PROFILE.Sets of subscription conditions")),t(7),m(s(138,123,"PROVIDERS_PROFILE.Scope")),t(2),y("ngModel",i.selectedOfferState),t(2),m(s(142,125,"COMMON.Active")),t(3),m(s(145,127,"COMMON.All")),t(8),g(" ",s(153,129,"COMMON.Refresh")," "),t(2),c("ngClass",W(174,se,i.providersData.state=="Archived")),t(2),g(" ",s(157,131,"COMMON.Create")," "),t(4),c("gridConfig",i.offerGridConfig)("gridData",i.offerGridData)("showGridLoader",i.showOfferGridLoder),t(4),m(s(165,133,"PROVIDERS_PROFILE.Personal Info")),t(3),m(s(168,135,"PROVIDERS_PROFILE.Update your personal details here")),t(8),m(s(176,137,"PROVIDERS_PROFILE.Information")),t(5),m(s(181,139,"COMMON.State")),t(4),g("\u25CF ",i.providersData==null?null:i.providersData.state,""),t(4),m(s(189,141,"PROVIDERS_PROFILE.Registered")),t(4),m(fe(193,143,i.providersData==null?null:i.providersData.registerTime,"M/d/yy, h:mm:ss a")),t(5),m(s(198,146,"PROVIDERS_PROFILE.Trading Account")),t(7),m(s(205,148,"PROVIDERS_PROFILE.MT name")),t(4),m(i.tradeAccountData==null?null:i.tradeAccountData.tradingAccName),t(4),m(s(213,150,"PROVIDERS_PROFILE.MT login")),t(4),m(i.tradeAccountData==null?null:i.tradeAccountData.tradingAccountNo),t(4),m(s(221,152,"PROVIDERS_PROFILE.State")),t(4),g("\u25CF ",i.tradeAccountData==null?null:i.tradeAccountData.state,""),t(4),m(s(229,154,"PROVIDERS_PROFILE.Created (UTC)")),t(4),m(fe(233,156,i.providersData==null?null:i.providersData.createdUtc,"MMMM d, y 'at' hh:mm:ss a")),t(5),m(s(238,159,"PROVIDERS_PROFILE.Updated (UTC)")),t(4),m(fe(242,161,i.providersData==null?null:i.providersData.updatedUtc,"MMMM d, y 'at' hh:mm:ss a")),t(4),c("ngForOf",i.tabArrConfig)}}function Mi(r,f){r&1&&(a(0,"div",66),u(1,"img",67),o())}var qn=(()=>{class r{router;translate;_webService;route;providersData;tradeAccountData;providerId;showPageLoader=!1;selectedOfferState="Active";showOfferGridLoder=!1;offerGridConfig={};offerGridData=[];tabArrConfig=[];constantVariable=new N;currentSelectedTabIndx=0;errorComponent;tradingDialog=U(K);commonInfoDialog=U(K);beFeesDetailDialog=U(K);beDealsDialog=U(K);createOfferDialog=U(K);providerArchiveDialog=U(K);sharedLinkDialog=U(K);constructor(e,i,n,p){this.router=e,this.translate=i,this._webService=n,this.route=p,this.route.paramMap.subscribe(b=>{this.providerId=b.get("providerId"),this.getAllProviderProfilePageData()}),this._webService.subscribeOnWebDataChange("ProviderProfileStandAloneComponent",b=>{this.recieveChildrenEmitter(b)})}getAllProviderProfilePageData(){return me(this,null,function*(){this.showPageLoader=!0;let e=yield this.getProviderProfileData();this.setupOffersGridConfig();let i=yield this.getOffersData();this.setUpTabsConfig(),this.getGridData(this.tabArrConfig[0]),this.showPageLoader=!1})}setUpTabsConfig(){this.tabArrConfig=this.getProviderProfileTabsConfig()}getProviderProfileTabsConfig(){let e=[];return e.push(this.getSubscriptionTabConfigObj(),this.getPositionTabConfigObj(),this.getDealsTabConfigObj(),this.getFeesTabConfig()),e}getSubscriptionTabConfigObj(){let e=this.constantVariable?.http_Api_Url.provider_profile.subscriptions.replace(":providerId",this.providerId);return{label:"PROVIDERS_PROFILE.Subscriptions",filters:{show:!1,type:{id:"",offerId:"",activationStatus:"",externalAccount:"",agent:"",scope:"Active"},clear:function(){this.type={id:"",offerId:"",activationStatus:"",externalAccount:"",agent:"",scope:"Active"}},getApiParams:function(){let i={},n=()=>{let p="";if(this.type.id&&(p+=`id eq ${this.type.id} and `),this.type.offerId&&(p+=`offerId eq ${this.type.offerId} and `),this.type.agent&&(p+=`agent eq ${this.type.agent} and `),this.type.externalAccount&&(p+=`externalAccount eq ${this.type.externalAccount} and `),this.type.activationStatus){let b=this.type.activationStatus!="needsactivation",M=this.type.activationStatus=="activated";p+=`(isActivated eq ${b} and activationStatus eq ${M}) and `}return p};return i.$count=!0,i.scope=this.type.scope,n.apply(this)&&(i.$filter=n.apply(this).slice(0,-4)),i}},grid:this.getCommonGridDetails("subscription","There are no subscription",ot,e,this.offerGridData)}}getPositionTabConfigObj(){let e=this.constantVariable?.http_Api_Url.provider_profile.position.replace(":providerId",this.providerId);return{label:"PROVIDERS_PROFILE.Positions",filters:{show:!1,type:{position:"",posState:"",symbol:""},clear:function(){this.type={position:"",posState:"",symbol:""}},getApiParams:function(){let i={},n=()=>{let p="";return this.type.posState&&(p+=`state eq '${this.type.posState}' and `),this.type.symbol&&(p+=`contains(tolower(symbol), '${this.type.symbol}') and `),this.type.position&&(p+=`position eq ${this.type.position} and `),p};return i.$count=!0,n.apply(this)&&(i.$filter=n.apply(this).slice(0,-4)),i}},grid:this.getCommonGridDetails("position","There are no position",lt,e)}}getDealsTabConfigObj(){let e=this.constantVariable?.http_Api_Url.provider_profile.deals.replace(":providerId",this.providerId);return{label:"PROVIDERS_PROFILE.Deals",filters:{show:!1,type:{dealKey:"",dealState:"",entry:"",symbol:""},clear:function(){this.type={dealKey:"",dealState:"",entry:"",symbol:""}},getApiParams:function(){let i={},n=()=>{let p="";return this.type.dealKey&&(p+=`dealKey eq '${this.type.dealKey}' and `),this.type.entry&&(p+=`entry eq '${this.type.entry}' and `),this.type.dealState&&(p+=`state eq '${this.type.dealState}' and `),this.type.symbol&&(p+=`symbol eq '${this.type.symbol}' and `),p};return i.$count=!0,n.apply(this)&&(i.$filter=n.apply(this).slice(0,-4)),i}},grid:this.getCommonGridDetails("deals","There are no deals",dt,e)}}getFeesTabConfig(){return{label:"PROVIDERS_PROFILE.Fees",filters:{show:!1,type:{id:"",platformId:""},clear:function(){this.type={id:"",platformId:""}},providerId:this.providerId,getApiParams:function(){let e={},i=()=>{let n="";return this.type.id&&(n+=`id eq ${this.type.id} and `),this.type.platformId&&(n+=`platformId eq ${this.type.platformId} and `),n+=`ownerId eq ${this.providerId} and ownerType eq 'Provider' and `,n};return e.$count=!0,i.apply(this)&&(e.$filter=i.apply(this).slice(0,-4)),e}},grid:this.getCommonGridDetails("fees","There are no fees",rt,this.constantVariable?.http_Api_Url.transactionsHistory.get,this.providersData)}}getCommonGridDetails(e,i,n,p,b){let M=this.getGridColDefs(e);return{apiUrl:p,colDef:M,config:this.getCommonGridConfig(M,i),data:[],showLoader:!1,uiModel:n,uiModelSecondParamData:b}}getProviderProfileData(){return new Promise(e=>{let i={providerId:this.providerId};this._webService.getProviderProfilePageData(i).subscribe({next:n=>{this.providersData=n.providerData,this.tradeAccountData=new nt(n.tradeAccountData),e()},error:n=>{this.showErrorWarnMessage(n?.error?.errorMessage),e()}})})}showErrorWarnMessage(e){let i=this.errorComponent?.config;i.message=e||i.message,this.errorComponent?.openErrorSnackbar()}setupOffersGridConfig(){let e=this.getGridColDefs("offers");this.offerGridConfig=this.getCommonGridConfig(e,"There are no offers data")}getOffersData(){return new Promise(e=>{this.showOfferGridLoder=!0;let i={providerId:this.providerId,$count:!0,scope:this.selectedOfferState};this._webService.getOffersDetails(i).subscribe({next:n=>{this.offerGridData=[],n.items.forEach(p=>this.offerGridData.push(new at(p))),this.showOfferGridLoder=!1,e()},error:n=>{this.showOfferGridLoder=!1,this.showErrorWarnMessage(n?.error?.errorMessage),e()},complete:()=>{e()}})})}getGridData(e){let i=e.grid;i.showLoader=!0;let n=e.filters.getApiParams();this._webService.getCommonGridData(i.apiUrl,n).subscribe({next:p=>{let b=[];p.items.forEach(M=>b.push(new i.uiModel(M,i.uiModelSecondParamData))),i.data=b,i.showLoader=!1},error:p=>{this.showErrorWarnMessage(p?.error?.errorMessage),i.showLoader=!1}})}getCommonGridParam(e){console.log(e)}refreshOffersList(){return me(this,null,function*(){let e=yield this.getOffersData()})}onTabChange(e){this.currentSelectedTabIndx=e.index,this.getGridData(this.tabArrConfig[this.currentSelectedTabIndx])}applyFilters(e){e.filters.show?(e.filters.show=!1,this.clearFilters(e)):e.filters.show=!0}clearFilters(e){e.filters.clear(),this.getGridData(e)}refreshDataList(e){this.getGridData(e)}getGridColDefs(e){if(e=="offers")return[{field:"offerId",sort:"desc",headerName:"PROVIDERS_PROFILE.Title",resizable:!1,cellRenderer:x,colId:"offerCell"},{field:"visibility",headerName:"PROVIDERS_PROFILE.Visibility",resizable:!1,cellRenderer:x,colId:"tagCell"},{field:"subscriptionCount",sortable:!1,headerName:"PROVIDERS_PROFILE.Subscriptions",resizable:!1},{field:"joinLinksCount",sortable:!1,headerName:"PROVIDERS_PROFILE.Join Links",resizable:!1},{field:"actions",headerName:"",sortable:!1,cellRenderer:de,colId:"offerRedirection",resizable:!1}];if(e=="subscription")return[{field:"subscriptionId",headerName:"REPORTS.Name",resizable:!1,cellRenderer:x,colId:"providerSubscriptionNameCell"},{field:"isActivated",sortable:!1,headerName:"COMMON.Status",resizable:!1,cellRenderer:mt},{field:"volume",sortable:!1,headerName:"PROVIDERS_PROFILE.Volume Scaling",resizable:!1,cellRenderer:x,colId:"tagCell"},{field:"offerTitle",sortable:!1,headerName:"PROVIDERS_PROFILE.Offer",resizable:!1,cellRenderer:x,colId:"offerTitleCell"},{field:"tradingAccountNo",sortable:!1,headerName:"PROVIDERS_PROFILE.Trading Account",resizable:!1,cellRenderer:x,colId:"providerTradingAccountCell"},{field:"equity",sortable:!1,headerName:"PROVIDERS_PROFILE.Equity",resizable:!1},{field:"registerTime",headerName:"PROVIDERS_PROFILE.Registered",sort:"desc",resizable:!1},{field:"actions",headerName:"",sortable:!1,cellRenderer:de,colId:"providerSubscriptionRedirection",resizable:!1}];if(e=="position")return[{field:"position",headerName:"PROVIDERS_PROFILE.Position",resizable:!1,cellRenderer:x,colId:"positionNameCell"},{field:"status",headerName:"COMMON.Status",resizable:!1,cellRenderer:x,colId:"tagCell"},{field:"symbol",headerName:"PROVIDERS_PROFILE.Symbol",resizable:!1},{field:"openTime",headerName:"PROVIDERS_PROFILE.Open Time",sort:"desc",resizable:!1},{field:"volume",headerName:"PROVIDERS_PROFILE.Volume",resizable:!1,cellRenderer:x,colId:"positionVolumeCell"},{field:"profit",headerName:"PROVIDERS_PROFILE.Profit",resizable:!1},{field:"closeTime",headerName:"PROVIDERS_PROFILE.Close Time",resizable:!1},{field:"actions",headerName:"",sortable:!1,cellRenderer:de,resizable:!1,colId:"positionRedirection"}];if(e=="deals")return[{field:"dealKey",headerName:"PROVIDERS_PROFILE.Deal",resizable:!1,cellRenderer:x,colId:"dealsTitleCell"},{field:"entry",headerName:"PROVIDERS_PROFILE.Entry",sortable:!1,resizable:!1,cellRenderer:x,colId:"tagCell"},{field:"position",headerName:"PROVIDERS_PROFILE.Position",resizable:!1,cellRenderer:x,colId:"dealPositionCell"},{field:"symbol",headerName:"PROVIDERS_PROFILE.Symbol",resizable:!1},{field:"volume",headerName:"PROVIDERS_PROFILE.Volume",resizable:!1,cellRenderer:x,colId:"dealsVolumeCell"},{field:"price",headerName:"PROVIDERS_PROFILE.Price",resizable:!1},{field:"time",headerName:"PROVIDERS_PROFILE.Time",sort:"desc",resizable:!1},{field:"actions",headerName:"",sortable:!1,cellRenderer:de,showPopupArraow:!0,colId:"dealsPopup"}];if(e=="fees")return[{field:"transactionObj",headerName:"PROVIDERS_PROFILE.Fees",sort:"desc",cellRenderer:x,resizable:!1,colId:"transactionTitlePopup"},{field:"platformId",headerName:"TRANSACTIONS.MT order",resizable:!1,suppressSizeToFit:!0},{field:"transactionAmountObj",headerName:"REPORTS.Amount",cellRenderer:x,resizable:!1,colId:"transactionAmountViewDisplay"},{field:"senderObj",headerName:"TRANSACTIONS.Sender",resizable:!1,sortable:!1,cellRenderer:x,colId:"transactionsenderAction"},{field:"processTime",headerName:"TRANSACTIONS.Processed",resizable:!1},{field:"actions",headerName:"",cellRenderer:de,sortable:!1,colId:"transactionDetailsPopup",showPopupArraow:!0,resizable:!1}]}getCommonGridConfig(e,i){return{maxHeight:"400px",noDataWarnMessage:i,gridOptions:{},agGridTheme:"ag-theme-alpine",pageSizeDropdownArr:[5,10,15],initialSelectedPageSize:5,columnDefination:e,enablePagination:!0,headerNameLangArr:e.map(p=>p.headerName),rowModelType:"clientSide",rowHeight:void 0}}openBeTradingAccountPopup(){this.tradingDialog.open(be,{panelClass:"common-dialog",data:this.prepareTradingAccountData()}),this.tradingDialog.afterAllClosed.subscribe(e=>{})}prepareTradingAccountData(){let e=this.tradeAccountData;return{mainTitle:"HOME.TradingAccInfo",secondryTitle:"ACCOUNTS.InfoMetaTradeAccount",labelDetails:[{title:"COMMON.Id",value:e.clientId},{title:"COMMON.State",value:e.state,type:"tag"},{title:"ACCOUNTS.Connected",value:e.connectTime},{title:"PROVIDERS_PROFILE.MT login",value:e.tradingAccountNo},{title:"PROVIDERS_PROFILE.MT name",value:e.tradingAccName},{title:"ACCOUNTS.TradeGroupType",value:e.tradeGroupType,type:"tag"},{title:"ACCOUNTS.AvailInMetaTrade",value:e.avialableInMetaTrade,type:"tag"},{title:"ACCOUNTS.TradeType",value:e.tradeType,type:"tag"},{title:"PROVIDERS_PROFILE.Currency",value:e.currency},{title:"ACCOUNTS.Balance",value:e.balance},{title:"ACCOUNTS.Credit",value:e.credit},{title:"ACCOUNTS.Equity",value:e.equity},{title:"ACCOUNTS.FloatProfit",value:e.floatingPoint}]}}recieveChildrenEmitter(e){e.action=="open_transact_details_popup"?this.openBeFeesDetailsPopup(e.data):e.action=="open_deals_popup"?this.openDealsPopup(e.data):e.action=="refresh_provider_data"?this.refreshProviderData():e.action=="redirect_to_offer_page"?this.router.navigate([`/portal/offers/${e.offerId}`]):e.action=="redirect_to_provider_page"&&this.router.navigate(["/portal/providers"])}refreshProviderData(){return me(this,null,function*(){let e=yield this.getProviderProfileData()})}openDealsPopup(e){this.beDealsDialog.open(be,{panelClass:"common-dialog",data:this.prepareDealsData(e)}),this.beDealsDialog.afterAllClosed.subscribe(i=>{})}openBeFeesDetailsPopup(e){this.beFeesDetailDialog.open(be,{panelClass:"common-dialog",data:this.prepareFeesData(e)}),this.beFeesDetailDialog.afterAllClosed.subscribe(i=>{})}openCommonInfoDialog(e){this.commonInfoDialog.open(Pt,{panelClass:"providerProfile-commonInfo",data:{providerData:this.providersData,modelType:e}}).afterClosed().subscribe(n=>{this.recieveChildrenEmitter(n)})}openCreateOfferModal(){this.createOfferDialog.open(Ot,{panelClass:"createinfo-dialog",data:this.providerId}).afterClosed().subscribe(i=>{this.recieveChildrenEmitter(i)})}openProviderArchiveModal(){this.providerArchiveDialog.open(vt,{panelClass:"archive-dialog",data:{providerData:this.providersData,modelType:"provider"}}).afterClosed().subscribe(i=>{this.recieveChildrenEmitter(i)})}openSharedLinkModal(){this.sharedLinkDialog.open(St,{panelClass:"shared-link-dialog",data:this.providersData}).afterClosed().subscribe(i=>{this.recieveChildrenEmitter(i)})}openUploadAvatarModal(){this.sharedLinkDialog.open(xt,{panelClass:"upload-avatar-dialog",data:{providerData:this.providersData}}).afterClosed().subscribe(i=>{this.recieveChildrenEmitter(i)})}prepareFeesData(e){return{mainTitle:"TRANSACTIONS.Transaction",secondryTitle:"TRANSACTIONS.InfoAboutTransact",labelDetails:[{title:"COMMON.State",value:e.transactionObj.state},{title:"SUBSCRIPTION.Trading account",value:e.externalAccount},{title:"TRANSACTIONS.MT order",value:e.platformId},{title:"TRANSACTIONS.Requested amount",value:e.transactionAmountObj,type:"transaction_amount"},{title:"TRANSACTIONS.Processed amount",value:e.processedAmountObj,type:"transaction_amount"},{title:"TRANSACTIONS.Reason",value:e.transactionObj.reason},{title:"TRANSACTIONS.Sender",value:e.senderObj,type:"sender"},{title:"TRANSACTIONS.Recipient",value:e.reciepentObj,type:"recipent"},{title:"TRANSACTIONS.Processed",value:e.processTime}]}}prepareDealsData(e){return{mainTitle:"COMMON.Info",secondryTitle:"PROVIDERS_PROFILE.Information about the provider's deal",labelDetails:[{title:"PROVIDERS_PROFILE.Deal",value:e.dealKey},{title:"PROVIDERS_PROFILE.Position",value:e.position},{title:"PROVIDERS_PROFILE.State",value:e.state},{title:"PROVIDERS_PROFILE.Symbol",value:e.symbol},{title:"PROVIDERS_PROFILE.Entry",value:e.entry},{title:"PROVIDERS_PROFILE.Entry type",value:e.entryType},{title:"PROVIDERS_PROFILE.Direction",value:e.direction},{title:"PROVIDERS_PROFILE.Volume",value:e.volume},{title:"PROVIDERS_PROFILE.Price",value:e.price},{title:"PROVIDERS_PROFILE.Time",value:e.time}]}}ngOnDestroy(){this._webService.unSubscribeOnWebDataChange("ProviderProfileStandAloneComponent")}static \u0275fac=function(i){return new(i||r)(P(je),P(Ke),P(B),P(ke))};static \u0275cmp=w({type:r,selectors:[["app-provider-profile"]],viewQuery:function(i,n){if(i&1&&F(D,5),i&2){let p;T(p=A())&&(n.errorComponent=p.first)}},standalone:!0,features:[V],decls:4,vars:2,consts:[["actions","matMenu"],["appearance","outlined",1,"section-card"],["class","section-card-content",4,"ngIf"],["class","full-view-port-height d-flex justify-center align-center",4,"ngIf"],[1,"section-card-content"],[1,"home-card"],[1,"header","d-flex","justify-space-between","align-center"],[1,"header-title"],[1,"primary-btn","action-btn",3,"matMenuTriggerFor","ngClass"],["src","../../../../assets/icons/actions.png"],[1,"actions-menu"],["mat-menu-item","",3,"click"],["src","../../../../assets/icons/cameraIcon.png","width","20","height","20"],["width","20","height","20",3,"src"],["src","../../../../assets/icons/trashIcon.png","width","20","height","20"],[3,"getDataById","id"],[1,"info-section","d-flex","justify-space-between"],[1,"info-section-left"],[1,"d-flex","justify-space-between","w-100"],[1,"info-section-left-items"],[1,"edit-btn","info-section-btn",3,"click","ngClass"],[1,"info-section-left-items","info-section-left-items-card"],["appearance","outlined"],[1,"d-flex","justify-space-between","g-20","align-center"],[1,"edit-btn","info-section-btn",3,"ngClass"],[1,"d-flex","justify-space-between","g-10"],[1,"d-flex","g-20","common-dropdown","align-center"],[3,"ngModelChange","selectionChange","ngModel"],["value","Active"],["value","all"],[1,"divider"],[1,"d-flex","justify-center","g-10","align-stretch"],[1,"secondary-btn",3,"click"],["src","../../../../assets/icons/rotateIcon.svg"],[1,"primary-btn",3,"click","ngClass"],["src","../../../../assets/icons/plusIcon.png"],[1,"table"],[3,"gridConfig","gridData","showGridLoader"],[1,"info-section-right"],[1,"info-section-right-header"],[1,"info-section-right-card"],[1,"items"],[1,"d-flex","justify-center","items-main"],[1,"items-left"],[1,"items-right"],[1,"status-badge"],["href","javascript:void(0)",1,"default-link",3,"click"],["src","../../../../assets/icons/arrow-single.png"],[1,"metrics-table"],["mat-stretch-tabs","false","mat-align-tabs","start",1,"providerProfile-tabGroup",3,"selectedTabChange"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],["matTabContent",""],[1,"header-buttons","d-flex","justify-space-between","pb-20","g-20"],[1,"d-flex","g-20","justify-center","align-center"],["src","../../../../assets/icons/filterIcon.svg"],["class","secondary-btn",3,"click",4,"ngIf"],[1,"d-flex","g-20","common-dropdown","align-center","flex-wrap","justify-end"],["width","20","src","../../../../assets/icons/clear-icon.svg"],[4,"ngIf"],["matInput","","type","number",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[3,"value"],["matInput","","type","text",3,"ngModelChange","ngModel"],["src","../../../../assets/icons/searchIcon.svg"],[1,"full-view-port-height","d-flex","justify-center","align-center"],["src","../../../../assets/logo/ICM Logo Default 1.png"]],template:function(i,n){i&1&&(a(0,"mat-card",1),I(1,Di,246,176,"mat-card-content",2)(2,Mi,2,0,"div",3),o(),u(3,"show-error-message")),i&2&&(t(),c("ngIf",!n.showPageLoader),t(),c("ngIf",n.showPageLoader))},dependencies:[L,_e,ge,G,Be,st,Ye,re,he,ae,He,D,pt,Qe,qe,Ge,$e,it,Ze,et,tt,j,k,le,Z,Y,oe,ne,te,ee,Ue,We,ze],styles:[".stats-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.stats-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:20px}.stats-subline[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .positive[_ngcontent-%COMP%]{color:#027a48}.stats-subline[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .negative[_ngcontent-%COMP%]{color:#b42318}.info-section[_ngcontent-%COMP%]{padding-block:50px}.info-section[_ngcontent-%COMP%]   .info-section-left[_ngcontent-%COMP%]{width:70%}.info-section[_ngcontent-%COMP%]   .info-section-left[_ngcontent-%COMP%]   .info-section-left-items[_ngcontent-%COMP%]{width:100%;padding:15px;height:fit-content}.info-section[_ngcontent-%COMP%]   .info-section-left[_ngcontent-%COMP%]   .info-section-left-items[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;margin:unset}.info-section[_ngcontent-%COMP%]   .info-section-left[_ngcontent-%COMP%]   .info-section-left-items[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#667085}.info-section[_ngcontent-%COMP%]   .info-section-left[_ngcontent-%COMP%]   .info-section-left-items[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:18px;margin:unset}.info-section[_ngcontent-%COMP%]   .info-section-left[_ngcontent-%COMP%]   .info-section-left-items[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{font-size:40px;padding-top:5px;color:#d0d5dd;font-weight:100}.info-section[_ngcontent-%COMP%]   .info-section-left[_ngcontent-%COMP%]   .info-section-left-items-card[_ngcontent-%COMP%]{border:2px solid #EAECF0;border-radius:10px;height:fit-content}.info-section[_ngcontent-%COMP%]   .info-section-left[_ngcontent-%COMP%]   .info-section-left-items-card[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]{border:none!important}.info-section[_ngcontent-%COMP%]   .info-section-right[_ngcontent-%COMP%]{width:25%}.info-section[_ngcontent-%COMP%]   .info-section-right[_ngcontent-%COMP%]   .info-section-right-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;margin:unset}.info-section[_ngcontent-%COMP%]   .info-section-right[_ngcontent-%COMP%]   .info-section-right-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#667085}.info-section[_ngcontent-%COMP%]   .info-section-right[_ngcontent-%COMP%]   .info-section-right-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:18px;margin:unset}.info-section[_ngcontent-%COMP%]   .info-section-right[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-top:1px solid #EAECF0;margin-block:20px}.info-section[_ngcontent-%COMP%]   .info-section-right[_ngcontent-%COMP%]   .info-section-right-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:15px}.info-section[_ngcontent-%COMP%]   .info-section-right[_ngcontent-%COMP%]   .info-section-right-card[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{padding-block:5px}.info-section[_ngcontent-%COMP%]   .info-section-right[_ngcontent-%COMP%]   .info-section-right-card[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .items-main[_ngcontent-%COMP%]{width:100%;padding-block:10px}.info-section[_ngcontent-%COMP%]   .info-section-right[_ngcontent-%COMP%]   .info-section-right-card[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .items-main[_ngcontent-%COMP%]   .items-left[_ngcontent-%COMP%]{padding:8px 10px;width:50%;border:1px solid #D0D5DD;border-top-left-radius:6px;border-bottom-left-radius:6px;color:#667085;font-weight:400}.info-section[_ngcontent-%COMP%]   .info-section-right[_ngcontent-%COMP%]   .info-section-right-card[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .items-main[_ngcontent-%COMP%]   .items-right[_ngcontent-%COMP%]{padding:8px 20px;width:100%;border:1px solid #D0D5DD;border-top-right-radius:6px;border-bottom-right-radius:6px}.info-section[_ngcontent-%COMP%]   .info-section-right[_ngcontent-%COMP%]   .info-section-right-card[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .items-main[_ngcontent-%COMP%]   .items-right[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{background:#ecfdf3;width:fit-content;padding:0 10px;border-radius:6px;color:#027a48}.info-section[_ngcontent-%COMP%]   .info-section-right[_ngcontent-%COMP%]   .info-section-right-card[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]{border:none!important}  .providerProfile-tabGroup .mdc-tab__text-label{font-size:20px!important;font-weight:400;color:#667085!important}  .providerProfile-tabGroup .mdc-tab{padding:0 50px!important}  .actions-menu .mat-mdc-menu-panel{background-color:#fff!important}  .actions-menu .mat-mdc-menu-content{background-color:#fff!important}  .actions-menu .mat-mdc-menu-item{padding-left:20px;padding-right:20px}  .actions-menu .mat-mdc-menu-item .mat-mdc-menu-item-text{font-size:17px!important;display:flex;gap:20px;align-items:center}  .common-dropdown .mdc-text-field{background-color:var(--primaryWhite)!important;border:1px solid var(--border-color)!important;border-bottom:0px!important;border-radius:8px!important;width:150px}  .common-dropdown .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom-color:var(--border-color)!important}  .common-dropdown .mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple:before{border-bottom-color:var(--border-color)!important}  .mat-mdc-form-field-subscript-wrapper{display:none}"]})}return r})();export{qn as ProviderProfileStandAloneComponent};
