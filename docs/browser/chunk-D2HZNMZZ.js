import{E as a,Gc as R,Hc as u,K as _,N as d,b as p,c as l,cc as c,h as n,j as s,l as h}from"./chunk-VFCAWHKN.js";var S=(()=>{class i extends R{http;constantVar;webEmitterReference={};webChangeEmitter=new l;userPermissionConfig;isProviderAccount=!1;isSubscriptionAccount=!1;isReportPageEnable=!1;showSubscriptionsTradingResults=!1;constructor(t){super(t),this.http=t,this.constantVar=new u}clearUserProfileData(){this.userPermissionConfig=void 0,this.isProviderAccount=!1,this.isSubscriptionAccount=!1,this.isReportPageEnable=!1,this.showSubscriptionsTradingResults=!1}subscribeOnWebDataChange(t,e){this.webEmitterReference[t]=this.webChangeEmitter.subscribe(r=>{e&&e(r)})}emitOnWebDataChange(t){this.webChangeEmitter.next(t)}unSubscribeOnWebDataChange(t){this.webEmitterReference[t]&&this.webEmitterReference[t].unsubscribe()}setOrRefreshUserProfileData(t){this.sendHttpGetRequest(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webLayoutPage.get_User_Profile_details}`,"").subscribe({next:e=>{this.userPermissionConfig=e,this.isProviderAccount=e?.provider?.view,this.isSubscriptionAccount=e?.subscription?.view,this.isReportPageEnable=e?.reports.view,this.showSubscriptionsTradingResults=e?.provider?.showSubscriptionsTradingResults.length>0,t({status:!0,response:e})},error:e=>{t({status:!1,errorObj:e})}})}setOrRefreshUserProfileDataAsObserver(){return new p(t=>{this.userPermissionConfig?(t.next(!0),t.complete()):this.setOrRefreshUserProfileData(e=>{e.status?(t.next(!0),t.complete()):(t.error(!1),t.complete())})})}getProviderMetric(){return this.sendHttpGetRequest(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.provider.metric}`,"")}getProviderMetricById(t){return this.sendHttpGetRequest(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.provider.metric}/${t}`,"")}getFollowerMetric(){return this.sendHttpGetRequest(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.follower.subscriptions_Metric}`,"")}getFollowerMetricById(t){return this.sendHttpGetRequest(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.follower.subscriptions_Metric}/${t}`,"")}getProviderTableData(){return this.sendHttpGetRequest(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.provider.details}`,"")}getFollowerTableData(){return this.sendHttpGetRequest(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.follower.subscriptions_Details}`,"")}getHomePageFollowerData(){let t=this.sendHttpGetRequest(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.follower.subscriptions_Metric}`,"").pipe(s(r=>({source:"follower_Metric",response:r}))),e=this.sendHttpGetRequest(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.follower.subscriptions_Details}`,"").pipe(s(r=>({source:"follower_Details",response:r})));return n(t,e).pipe(h(r=>r))}getTradingAccountData(t){return this.sendHttpGetWithUrlParam(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.trading.account_Details}`,t)}createProvider(t){return this.sendHttpPostAjaxRequest(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.provider.create}`,t)}getProviderData(t){return this.sendHttpGetWithUrlParam(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.provider.create}`,t)}createFollower(t){return this.sendHttpPostAjaxRequest(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.follower.create}`,t)}getAllProvidersData(){return this.sendHttpGetRequest(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.provider.brief}`,"")}getOffersOfProvider(t){let e=`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.provider.brief_Offers}`;return e=e.replace(":providerId",t.id),this.sendHttpGetRequest(e,"")}getTransactionHistoryData(t){return this.sendHttpGetWithUrlParam(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.transactionsHistory.get}`,t)}getTransactionPageData(t){return this.sendHttpGetWithUrlParam(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.transactionsHistory.get}`,t).pipe(a(e=>{let r=this.getProviderId(e);return r==""?n({transactHistory:e,secondResponse:null}):this.http.get(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.provider.brief}/${r}`).pipe(s(o=>({transactHistory:e,providerData:o})))}))}getProviderId(t){let e=t.items[0];return e?.ownerType=="Provider"?e.ownerId:e?.counterpartyType=="Provider"?e.counterpartyId:""}getCommonGridData(t,e){return this.sendHttpGetWithUrlParam(`${this.REST_API_SERVER}${t}`,e)}getClientDetails(){return this.sendHttpGetRequest(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.sideNav.clientDetails}`,"")}saveClientDetails(t){return this.sendHttpPatchAjaxRequest(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.sideNav.clientDetails}`,t)}getProviderDashboardDetails(){return this.sendHttpGetRequest(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.provider.providers_View}`,"")}getFileServerUrl(){return this.File_SERVER}getProviderProfilePageData(t){return this.sendHttpGetWithUrlParam(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.provider.create}/${t.providerId}`,"").pipe(a(e=>{let r=e.accountId;return this.sendHttpGetWithUrlParam(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.trading.account_Details}/${r}`,"").pipe(s(o=>({providerData:e,tradeAccountData:o})))}))}getSingleProviderData(t){return this.sendHttpGetWithUrlParam(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.provider.create}/${t.providerId}`,"")}getOffersDetails(t){let e=this.constantVar?.http_Api_Url.offers.offers_details;return e=e.replace(":providerId",t.providerId),delete t.providerId,this.sendHttpGetWithUrlParam(`${this.REST_API_SERVER}${e}`,t)}getPositionDetails(t){let e=this.constantVar?.http_Api_Url.provider_profile.position;return e=e.replace(":providerId",t.providerId),delete t.providerId,this.sendHttpGetWithUrlParam(`${this.REST_API_SERVER}${e}`,t)}getSingleOfferData(t){let e=this.constantVar?.http_Api_Url.offers.get_single_offer;return e=e.replace(":offerId",t.offerId),delete t.offerId,this.sendHttpGetRequest(`${this.REST_API_SERVER}${e}`,"")}updateOfferData(t){let e=this.constantVar?.http_Api_Url.offers.get_single_offer;return e=e.replace(":offerId",t.offerId),delete t.offerId,this.sendHttpPatchAjaxRequest(`${this.REST_API_SERVER}${e}`,t)}deleteorArchiveOfferData(t){let e=this.constantVar?.http_Api_Url.offers.get_single_offer;return e=e.replace(":offerId",t.offerId),delete t.offerId,this.sendHttpDeleteAjaxRequest(`${this.REST_API_SERVER}${e}`,"")}getSubscriptionData(t){let e=`${this.constantVar?.http_Api_Url.provider_profile.subscriptions}/${t.subscriptionId}`;return e=e.replace(":providerId",t.providerId),delete t.providerId,this.sendHttpGetRequest(`${this.REST_API_SERVER}${e}`,"")}getAllSubscriptionData(t){let e=`${this.constantVar?.http_Api_Url.provider_profile.subscriptions}`;return e=e.replace(":providerId",t.providerId),delete t.providerId,this.sendHttpGetRequest(`${this.REST_API_SERVER}${e}`,"")}getResultData(t){let e=`${this.constantVar?.http_Api_Url.webHomePage.follower.result}`;return e=e.replace(":subscriptionId",t.subscriptionId),delete t.subscriptionId,this.sendHttpGetRequest(`${this.REST_API_SERVER}${e}`,"")}getSingleResultData(t){let e=`${this.constantVar?.http_Api_Url.webHomePage.follower.single_result}/${t.resultId}`;return this.sendHttpGetRequest(`${this.REST_API_SERVER}${e}`,"")}getSinglePosotionData(t){let e=`${this.constantVar?.http_Api_Url.provider_profile.single_position}/${t.positionId}`;return this.sendHttpGetRequest(`${this.REST_API_SERVER}${e}`,"")}getSingleSubscriptionPositionData(t){let e=`${this.constantVar?.http_Api_Url.subscription_profile.single_position}/${t.positionId}`;return this.sendHttpGetRequest(`${this.REST_API_SERVER}${e}`,"")}getSingleTradingAccountData(t){return this.sendHttpGetWithUrlParam(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.trading.account_Details}/${t.accountId}`,"")}getStatsData(t){let e=`${this.constantVar?.http_Api_Url.provider_profile.stats}`;return e=e.replace(":providerId",t.providerId),e=e.replace(":positionId",t.positionId),this.sendHttpGetWithUrlParam(`${this.REST_API_SERVER}${e}`,"")}updateProviderData(t){let e=`${this.constantVar?.http_Api_Url.webHomePage.provider.create}/${t.providerId}`;return delete t.providerId,this.sendHttpPatchAjaxRequest(`${this.REST_API_SERVER}${e}`,t)}createOffersDetails(t){return this.sendHttpPostAjaxRequest(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.offers.create}`,t)}deleteOrArchiveProvider(t){let e=`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.provider.create}/${t.providerId}`;return this.sendHttpDeleteAjaxRequest(e,"")}createSharedLink(t){let e=`${this.constantVar?.http_Api_Url.shared_link.create_or_delete}`;return e=e.replace(":providerId",t.providerId),this.sendHttpPostAjaxRequest(`${this.REST_API_SERVER}${e}`,"")}deleteSharedLink(t){let e=`${this.constantVar?.http_Api_Url.shared_link.create_or_delete}`;return e=e.replace(":providerId",t.providerId),this.sendHttpDeleteAjaxRequest(`${this.REST_API_SERVER}${e}`,"")}uploadAvatar(t){let e=`${this.constantVar?.http_Api_Url.avatar.upload}`;e=e.replace(":providerId",t.providerId);let r=new FormData;return r.append("file",t.file,t.file.name),this.http.post(`${this.REST_API_SERVER}${e}`,r)}getFollowerData(t){return this.sendHttpGetWithUrlParam(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.follower.create}`,t)}getFollowerDashboardDetails(){return this.sendHttpGetRequest(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.follower.subscription_View}`,"")}getFollowerDataById(t){return this.sendHttpGetRequest(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.follower.create}/${t.subscriptionId}`,"")}deleteOrArchiveFollower(t){return this.sendHttpDeleteAjaxRequest(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.follower.create}/${t.subscriptionId}`,{body:{}})}getProviderDataById(t){return this.sendHttpGetRequest(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.webHomePage.provider.brief}/${t.providerId}`,"")}getBriefOfferDataById(t){return this.sendHttpGetRequest(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.offers.brief}/${t.offerId}`,"")}getAllRiskData(t){let e=`${this.constantVar?.http_Api_Url.subscription_profile.risk}`;return e=e.replace(":subscriptionId",t.subscriptionId),this.sendHttpGetRequest(`${this.REST_API_SERVER}${e}`,"")}activateOrDeactivateSubscription(t){let e=`${this.constantVar?.http_Api_Url.subscription_profile.activateOrDeActivateSubscription}`;return e=e.replace(":subscriptionId",t.subscriptionId),delete t.subscriptionId,this.sendHttpPostAjaxRequest(`${this.REST_API_SERVER}${e}`,t)}createOrUpdateRiskData(t){let e=`${this.constantVar?.http_Api_Url.subscription_profile.risk}`;return e=e.replace(":subscriptionId",t.subscriptionId),delete t.subscriptionId,this.sendHttpPatchAjaxRequest(`${this.REST_API_SERVER}${e}`,t)}updateFollowerDataById(t){let e=`${this.constantVar?.http_Api_Url.webHomePage.follower.create}/${t.subscriptionId}`;return delete t.subscriptionId,this.sendHttpPatchAjaxRequest(`${this.REST_API_SERVER}${e}`,t)}static \u0275fac=function(e){return new(e||i)(d(c))};static \u0275prov=_({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();export{S as a};
