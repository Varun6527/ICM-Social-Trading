import{Gc as h,Hc as f,K as o,N as a,b as s,bc as c,c as i,cc as u}from"./chunk-VFCAWHKN.js";var E=(()=>{class r extends h{http;constantVar;authEmitterReference={};authChangeEmitter=new i;tokenObject={};userConfig;constructor(t){super(t),this.http=t,this.constantVar=new f}isAccessTokenGenerated(){return!!this.tokenObject.access_token}getAccessToken(){return this.tokenObject.access_token}clearUserDataAndToken(){this.tokenObject={},this.userConfig=void 0}subscribeOnEducatorDataChange(t,e){this.authEmitterReference[t]=this.authChangeEmitter.subscribe(n=>{e&&e(n)})}emitOnEducatorDataChange(t){this.authChangeEmitter.next(t)}unSubscribeOnEducatorDataChange(t){this.authEmitterReference[t]&&this.authEmitterReference[t].unsubscribe()}getUserConfiguration(){return this.sendHttpGetRequest(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.commonUser.get_User_Details}`,"")}setOrRefreshUserConfiguration(){return new s(t=>{this.userConfig?(t.next(!0),t.complete()):this.getUserConfiguration().subscribe({next:e=>{this.userConfig=e,t.next(!0),t.complete()},error:e=>{t.error(!1),t.complete()}})})}loginUser(t){let e=new URLSearchParams;e.set("username",t.username),e.set("password",t.password),e.set("grant_type",t.grant_type);let n=new c().set("Content-Type","application/x-www-form-urlencoded");return this.http.post(`${this.REST_API_SERVER}${this.constantVar?.http_Api_Url.loginPage.get_Token_URL}`,e.toString(),{headers:n})}static \u0275fac=function(e){return new(e||r)(a(u))};static \u0275prov=o({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();export{E as a};
